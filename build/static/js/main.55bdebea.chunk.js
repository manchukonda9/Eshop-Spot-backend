(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{235:function(e,t,a){},236:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(39),o=a.n(r),c=(a(235),a.p,a(236),a(71)),i=a(20),l=a(372),d=a(337),u=a(366),j=a(367),h={SignUp:{Labels:{firstName:"First Name",lastName:"Last Name",email:"Email Address",contact:"Contact",address:"Address",age:"Age",dob:"Date of birth",password:"Enter you Password",verifyPassword:"Re-Enter you Password",signuphere:"Sign Up here",vendorLogin:"Vendor Sign in",customerLogin:"Customer Sign in",vendorSignup:"Vendor Sign up",customerSignup:"Customer Sign up",noAccount:"Dont have an account? Sign up",hasAccount:"Already have an account? Sign in",remeberme:"Remeber me",asVendorLogin:"Sign in as Vendor",asCustomerLogin:"Sign as Customer",asVendorSignup:"Sign up as Vendor",asCustomeSignup:"Sign up Customer",asCustomerUpdate:"Update Customer",asVendorUpdate:"Update Vendor"},warnings:{passwordMatch:"Both Passwords match",passwordNotMatch:"Both Passwords do not atch"},term:{heading:"Terms and conditions",button:"Read"}},Common:{websiteName:"Eshop Spot",signup:"Sign up",login:"Sign in",vendor:"Vendor",customer:"Customer",update:"Update",firstName:"First Name",lastName:"Last Name"},Home:{labels:{title:"Eshop Spot",desc:"Enjoy your shopping with us",offer:"Best ever gifts for all kind of occasions"}},product:{price:"Price",name:"Product Name",desc:"Description",quantity:"Quantity"},vendor:{sales:"My Sales"},Address:{street1:"Address line 1",street2:"Address line 2",city:"City",state:"State/Province/Region",zip:"Zipcode",country:"Country",addAddress:"Add Address"}},p=a(17),b=a(165),m=a(86),x=a(87),O=a(189),g=Object(b.a)({palette:{primary:{light:"#69696a",main:"#28282a",dark:"#1e1e1f"},secondary:{light:"#fff5f8",main:"#ff3366",dark:"#e62958"},warning:{main:"#ffc071",dark:"#ffb25e"},error:{light:m.a[50],main:m.a[500],dark:m.a[700]},success:{light:x.a[50],main:x.a[500],dark:x.a[700]}},background:{paper:"black",default:"#ff0000"},typography:{fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:700}}),f={color:g.palette.text.primary,fontWeight:g.typography.fontWeightMedium,fontFamily:"'Roboto Condensed', sans-serif",textTransform:"uppercase"},v={fontWeight:g.typography.fontWeightMedium,fontFamily:"'Roboto Condensed', sans-serif",textTransform:"uppercase"},y=(g.palette.text.primary,g.typography.fontWeightMedium,Object(p.a)(Object(p.a)({},g),{},{palette:Object(p.a)(Object(p.a)({},g.palette),{},{background:Object(p.a)(Object(p.a)({},g.palette.background),{},{default:g.palette.common.white,placeholder:O.a[200]})}),typography:Object(p.a)(Object(p.a)({},g.typography),{},{fontHeader:f,h1:Object(p.a)(Object(p.a)(Object(p.a)({},g.typography.h1),f),{},{letterSpacing:0,fontSize:60}),h2:Object(p.a)(Object(p.a)(Object(p.a)({},g.typography.h2),f),{},{fontSize:48}),h3:Object(p.a)(Object(p.a)(Object(p.a)({},g.typography.h3),v),{},{fontSize:42}),h4:Object(p.a)(Object(p.a)(Object(p.a)({},g.typography.h4),f),{},{fontSize:36}),h5:Object(p.a)(Object(p.a)({},g.typography.h5),{},{fontSize:24,fontWeight:g.typography.fontWeightLight}),h6:Object(p.a)(Object(p.a)(Object(p.a)({},g.typography.h6),f),{},{fontSize:18}),subtitle1:Object(p.a)(Object(p.a)({},g.typography.subtitle1),{},{fontSize:18}),body1:Object(p.a)(Object(p.a)({},g.typography.body2),{},{fontWeight:g.typography.fontWeightRegular,fontSize:16}),body2:Object(p.a)(Object(p.a)({},g.typography.body1),{},{fontSize:14})})})),S=a(336),C=a.p+"static/media/bg7.32c7eec6.jpg",w={Header:{padding:"10px 20px",textAlign:"left",height:"60px"},ErrorMessage:{color:"white",fontSize:"13px"},HeaderIcons:{padding:"10px 20px",textAlign:"center",ml:3,fontSize:16,textTransform:"none"},HomeBackground:{backgroundImage:"url(".concat(C,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat",width:"100vw",height:"100vh",backgroundColor:"White",maxWidth:"none"},HomeContainer:{display:"flex",flexDirection:"column",alignItems:"center"},Avatar:{height:"40px",width:"40px",m:2},ProductPrice:{fontFamily:"Trirong",fontWeight:"Bold"},CardButton:{flex:1,justifyContent:"center"},Toolbar:{minHeight:"45px"},MyProfileTabsBox:{height:"100vh",width:"200px",borderRight:1,borderColor:"divider"},MyProfileTab:{textTransform:"none",padding:"15px",fontSize:"16px"},ProductListBox:{display:"inline-block",position:"relative",top:"30px",left:"5%",width:"90%"},ProductTableCell:{textAlign:"center"},ProductTableCell_First:{textAlign:"left"},TabContainer:{position:"absolute",top:"50px",left:"40%"},MyProfileTabAdddress:{textTransform:"none",padding:"15px",fontSize:"16px"},TypographyTabContainer:{},CartButton:{padding:"0"},CartPrice:{position:"relative",flexGrow:1,ml:2},ManageAddressContainer:{maxWidth:"300px",pr:6,pb:6},CardGridAddress:{maxWidth:"inherit"},titleCheckout:{textTransform:"none",textAlign:"center"},HeadingCheckout:{textTransform:"none"},textTransformNone:{textTransform:"none"},CheckoutCard:{direction:"column",alignItems:"center",justify:"center"}},k=a(368),A=a(0);function P(){return Object(A.jsx)(S.a,{theme:y,children:Object(A.jsx)(d.a,{sx:{flexGrow:1},children:Object(A.jsx)(l.a,{position:"static",style:w.Header,color:"primary",children:Object(A.jsx)(u.a,{style:w.Toolbar,children:Object(A.jsx)(j.a,{component:"div",sx:{flexGrow:1,fontSize:24},children:Object(A.jsx)(k.a,{underline:"none",variant:"h5",color:"inherit",href:"/",sx:{fontSize:24},children:h.Common.websiteName})})})})})})}var T=a(364),N=a(339);function W(e){return function(t){return Object(A.jsxs)(T.a,{theme:y,children:[Object(A.jsx)(N.a,{}),Object(A.jsx)(e,Object(p.a)({},t))]})}}var z=a(370),D=a(369),U=a(362);function q(){return Object(A.jsxs)(D.a,{style:w.HomeBackground,maxWidth:"sm",children:[Object(A.jsx)(j.a,{color:"secondary.light",align:"center",variant:"h2",marked:"center",style:{paddingTop:"100px"},children:"Enjoy Gifts with us"}),Object(A.jsx)(j.a,{color:"secondary.light",align:"center",variant:"h5",sx:{mb:4},children:"Selling and Buying gifts made easy"}),Object(A.jsxs)(U.a,{sm:12,style:{display:"flex",justifyContent:"center"},children:[Object(A.jsx)(z.a,{color:"secondary",variant:"contained",size:"large",component:"a",href:"customerview/login",sx:{minWidth:200,margin:"10px",textTransform:"none"},children:"As Customer"}),Object(A.jsx)(j.a,{}),Object(A.jsx)(z.a,{color:"secondary",variant:"contained",size:"large",component:"a",href:"vendor/login",sx:{minWidth:200,margin:"10px",textTransform:"none"},children:"As Vendor"})]})]})}var I=W((function(){return Object(A.jsxs)(n.Fragment,{children:[Object(A.jsx)(P,{}),Object(A.jsx)(q,{})]})})),F=a(15),B=a.n(F),L=a(19),R=a(4),E=a(12),M=a.n(E),_=a(13),H=a.n(_),V=a(363),G=a(351),Q=a(132),$=a.n(Q),J=a(373),Z=a(196),K=a.n(Z),X=a(195),Y=a.n(X);function ee(e){return Object(A.jsx)(d.a,{style:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"},sx:{"& > :not(style)":{m:1}},children:Object(A.jsxs)(J.a,{color:"primary",variant:"extended",children:[e.personIcon&&Object(A.jsx)(Y.a,{sx:{mr:1}}),e.addIcon&&Object(A.jsx)(K.a,{sx:{mr:1}}),e.text]})})}var te=a(341),ae=a(358),ne=a(355),se=n.forwardRef((function(e,t){return Object(A.jsx)(ne.a,Object(p.a)({elevation:6,ref:t,variant:"filled"},e))}));function re(e){var t=n.useState(!0),a=Object(R.a)(t,2),s=a[0],r=a[1];console.log(e);var o=function(e,t){"clickaway"!==t&&r(!1)};return Object(A.jsx)(te.a,{spacing:2,sx:{width:"100%"},children:Object(A.jsx)(ae.a,{open:s,autoHideDuration:6e3,onClose:o,children:Object(A.jsx)(se,{onClose:o,severity:e.errAlert,sx:{width:"100%"},children:e.message})})})}var oe=W((function(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),o=Object(R.a)(r,2),c=o[0],l=o[1],u=Object(n.useState)(!1),p=Object(R.a)(u,2),b=p[0],m=p[1],x=Object(n.useState)(""),O=Object(R.a)(x,2),g=O[0],f=O[1],v=Object(n.useState)(""),S=Object(R.a)(v,2),C=S[0],W=S[1],q=Object(n.useState)(""),I=Object(R.a)(q,2),F=I[0],E=I[1],M=Object(i.e)();function _(){return(_=Object(L.a)(B.a.mark((function e(t){var n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={email:a,password:c},e.prev=2,m(!1),e.next=6,H.a.post("https://eshop-spot-backend.herokuapp.com/vendor/login",n,{withCredentials:!0});case 6:s=e.sent,console.log(s),s&&(m(!0),W("success"),E("Welcome"),f(s.data.vendor.firstName),M.push({pathname:"/vendorview/home",openSnackbar:!0})),e.next=19;break;case 11:e.prev=11,e.t0=e.catch(2),f(""),W("error"),m(!0),E("Invalid Credentials"),console.log("in error"),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(A.jsxs)(T.a,{theme:y,children:[b&&Object(A.jsx)(re,{errAlert:C,message:F,user:g}),Object(A.jsx)(P,{}),Object(A.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(A.jsx)(N.a,{}),Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(V.a,{style:w.Avatar,sx:{m:1,bgcolor:"secondary.main"},children:Object(A.jsx)($.a,{})}),Object(A.jsx)(j.a,{component:"h1",variant:"h5",children:h.SignUp.Labels.vendorLogin}),Object(A.jsxs)(d.a,{component:"form",onSubmit:function(e){return _.apply(this,arguments)},sx:{mt:1},children:[Object(A.jsx)(G.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:h.SignUp.Labels.email,name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return s(e.target.value)},value:a}),Object(A.jsx)(G.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:h.SignUp.Labels.password,type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return l(e.target.value)},value:c}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.login}),Object(A.jsxs)(U.a,{container:!0,children:[Object(A.jsx)(U.a,{item:!0,xs:!0}),Object(A.jsx)(U.a,{item:!0,children:Object(A.jsx)(k.a,{href:"/vendorview/signup",variant:"body2",children:h.SignUp.Labels.noAccount})})]})]})]})]}),Object(A.jsx)(k.a,{href:"/customerview/login",variant:"body2",children:Object(A.jsx)(ee,{personIcon:!0,text:h.SignUp.Labels.asCustomerLogin})})]})})),ce=a(72),ie=a.n(ce);var le=W((function(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),o=Object(R.a)(r,2),c=o[0],l=o[1],u=Object(n.useState)(""),p=Object(R.a)(u,2),b=p[0],m=p[1],x=Object(n.useState)(""),O=Object(R.a)(x,2),g=O[0],f=O[1],v=Object(n.useState)(""),S=Object(R.a)(v,2),C=S[0],N=S[1],W=Object(n.useState)(""),q=Object(R.a)(W,2),I=q[0],F=q[1],E=Object(n.useState)(""),M=Object(R.a)(E,2),_=(M[0],M[1],Object(n.useState)(!1)),Q=Object(R.a)(_,2),$=Q[0],J=Q[1],Z=Object(n.useState)(""),K=Object(R.a)(Z,2),X=K[0],Y=K[1],te=Object(n.useState)(""),ae=Object(R.a)(te,2),ne=ae[0],se=ae[1],oe=Object(n.useState)(""),ce=Object(R.a)(oe,2),le=ce[0],de=ce[1],ue=Object(i.e)();function je(){return(je=Object(L.a)(B.a.mark((function e(t){var n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={firstName:b,lastName:g,email:a,age:C,password:c,contact:I},e.prev=2,J(!1),e.next=6,H.a.post("https://eshop-spot-backend.herokuapp.com/vendor/signup",n,{withCredentials:!0});case 6:s=e.sent,console.log(s),s&&(J(!0),se("success"),de("Welcome ",s.data.vendor.firstName),Y(s.data.vendor.firstName),ue.push({pathname:"/vendorview/home",openSnackbar:!0})),e.next=19;break;case 11:e.prev=11,e.t0=e.catch(2),Y(""),se("error"),J(!0),de("Invalid Data"),console.log("in error"),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(A.jsxs)(T.a,{theme:y,children:[$&&Object(A.jsx)(re,{errAlert:ne,message:le,user:X}),Object(A.jsx)(P,{}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(V.a,{style:w.Avatar,sx:{m:1,bgcolor:"secondary.main"},children:Object(A.jsx)(ie.a,{})}),Object(A.jsx)(j.a,{component:"h1",variant:"h5",children:h.SignUp.Labels.vendorSignup}),Object(A.jsxs)(d.a,{component:"form",onSubmit:function(e){return je.apply(this,arguments)},sx:{mt:3},children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:h.SignUp.Labels.firstName,autoFocus:!0,onChange:function(e){return m(e.target.value)},value:b})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,id:"lastName",label:h.SignUp.Labels.lastName,name:"lastName",autoComplete:"family-name",onChange:function(e){return f(e.target.value)},value:g})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,id:"email",label:h.SignUp.Labels.email,name:"email",autoComplete:"email",onChange:function(e){return s(e.target.value)},value:a})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,name:"password",label:h.SignUp.Labels.password,type:"password",id:"password",autoComplete:"new-password",onChange:function(e){return l(e.target.value)},value:c})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"age",label:h.SignUp.Labels.age,name:"age",onChange:function(e){return N(e.target.value)},value:C})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,id:"contact",label:h.SignUp.Labels.contact,name:"contact",autoComplete:"contact",onChange:function(e){return F(e.target.value)},value:I})})]}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.signup}),Object(A.jsx)(U.a,{container:!0,justifyContent:"flex-end",children:Object(A.jsx)(U.a,{item:!0,children:Object(A.jsx)(k.a,{href:"/vendorview/login",variant:"body2",children:h.SignUp.Labels.hasAccount})})})]})]})}),Object(A.jsx)(k.a,{href:"/customerview/signup",variant:"body2",children:Object(A.jsx)(ee,{personIcon:!0,text:h.SignUp.Labels.asCustomeSignup})})]})})),de=a(25),ue=a(26),je=a(28),he=a(27),pe=a(375),be=a(378),me=a(377),xe=a(376),Oe=a(110),ge=a.n(Oe);function fe(e){var t="".concat(e.product.photo),a=Object(n.useState)(""),s=Object(R.a)(a,2),r=(s[0],s[1]),o=Object(n.useState)(""),c=Object(R.a)(o,2),i=(c[0],c[1]),l=Object(n.useState)(!1),d=Object(R.a)(l,2),u=(d[0],d[1]);console.log(e.product),Object(n.useEffect)((function(){var e=function(){var e=Object(L.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var h=function(){var e=Object(L.a)(B.a.mark((function e(t){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={product:t._id},n="Bearer "+M.a.get("token"),s={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:n}},H.a.patch("https://eshop-spot-backend.herokuapp.com/cart/addProduct",a,s,{withCredentials:!0}).then((function(e){console.log(e.data.productlist,"from api"),r("success"),i("Product Added to Cart Successfully!!"),u(!0)})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsxs)(pe.a,{sx:{minWidth:250,maxWidth:275,maxHeight:300},children:[Object(A.jsx)(xe.a,{component:"img",height:"140",image:t,alt:"product Image"}),Object(A.jsxs)(me.a,{sx:{flexGrow:1},children:[Object(A.jsx)(j.a,{gutterBottom:!0,children:Object(A.jsx)(k.a,{underline:"none",href:"/productsview/".concat(e.product._id),variant:"h5",color:"inherit",children:ge()(e.product.name,2,"...")})}),Object(A.jsxs)(j.a,{variant:"h5",color:"secondary",style:w.ProductPrice,children:["$ ",e.product.price]})]}),Object(A.jsx)(be.a,{children:Object(A.jsx)(z.a,{style:w.CardButton,size:"small",variant:"outlined",color:"secondary",onClick:function(){return h(e.product)},children:"Add to Cart"})})]})}var ve=a(380),ye=a(384),Se=a(383),Ce=a(379),we=a(381),ke=a(382),Ae=a(365),Pe=a(156),Te=a.n(Pe),Ne=a(126),We=a.n(Ne),ze=a(343),De=a(352),Ue=a(346),qe=a(279),Ie=a(347),Fe=a(201),Be=a.n(Fe),Le=Object(ze.a)((function(e){return{dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{paddingRight:"0px"}}}));function Re(e){var t=e.title,a=e.children,n=e.openPopup;e.setOpenPopup;console.log(e,"-- prop");var s=Le();return Object(A.jsxs)(De.a,{open:n,maxWidth:"md",classes:{paper:s.dialogWrapper},children:[Object(A.jsx)(Ue.a,{className:s.dialogTitle,children:Object(A.jsxs)("div",{style:{display:"flex"},children:[Object(A.jsx)(qe.a,{variant:"h6",component:"div",style:{flexGrow:1},children:t}),Object(A.jsx)(z.a,{color:"secondary",onClick:function(){e.setOpenPopup(!1)},children:Object(A.jsx)(Be.a,{})})]})}),Object(A.jsx)(Ie.a,{dividers:!0,children:a})]})}var Ee=a(137),Me=a.n(Ee);function _e(e){var t=Object(n.useState)(""),a=Object(R.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(""),c=Object(R.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)(""),j=Object(R.a)(u,2),h=j[0],p=j[1],b=Object(n.useState)(""),m=Object(R.a)(b,2),x=m[0],O=m[1],g=Object(n.useState)(""),f=Object(R.a)(g,2),v=f[0],S=f[1],C=Object(n.useState)(""),w=Object(R.a)(C,2),k=w[0],P=w[1],N=Object(n.useState)(""),W=Object(R.a)(N,2),q=W[0],I=W[1],F=Object(n.useState)(!1),E=Object(R.a)(F,2),_=E[0],V=E[1],Q=Object(n.useState)(""),$=Object(R.a)(Q,2),J=($[0],$[1],Object(n.useState)("")),Z=Object(R.a)(J,2),K=Z[0],X=Z[1],Y=Object(n.useState)(""),ee=Object(R.a)(Y,2),te=ee[0],ae=ee[1];function ne(){setTimeout((function(){window.location.reload(!0)}),10),console.log("page to reload")}function se(){return(se=Object(L.a)(B.a.mark((function t(a){var n,r,o;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={name:s,description:i,price:h,quantity:x,size:v,color:k,photo:q},r="Bearer "+M.a.get("token"),console.log(r),o={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:r}},console.log(n),t.prev=6,t.next=9,H.a.post("https://eshop-spot-backend.herokuapp.com/product/add",n,o,{withCredentials:!0});case 9:t.sent,V(!0),X("success"),ae("Product successfully added"),e.setOpenPopup(!1),ne(),t.next=24;break;case 17:t.prev=17,t.t0=t.catch(6),X("error"),V(!0),ae("Invalid Credentials"),console.log("in error"),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[6,17]])})))).apply(this,arguments)}Object(n.useEffect)((function(){M.a.get("token")||(V(!0),X("error"),ae("Only vendors can add products"))}));return Object(A.jsxs)(T.a,{theme:y,children:[_&&Object(A.jsx)(re,{errAlert:K,message:te}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(A.jsx)(d.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:Object(A.jsxs)(d.a,{component:"form",onSubmit:function(e){return se.apply(this,arguments)},sx:{mt:3},children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{autoComplete:"given-name",name:"name",required:!0,fullWidth:!0,id:"name",label:"Product Name",autoFocus:!0,onChange:function(e){return r(e.target.value)},value:s})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{multiline:!0,rows:2,rowsMax:4,fullWidth:!0,id:"description",label:"Description",name:"description",autoComplete:"family-name",onChange:function(e){return l(e.target.value)},value:i})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,id:"price",label:"Price",type:"number",name:"price",autoComplete:"price",onChange:function(e){return p(e.target.value)},value:h})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,name:"quantity",label:"Quantity",type:"number",id:"quantity",autoComplete:"quantity",onChange:function(e){return O(e.target.value)},value:x})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"size",label:"Size",name:"size",autoComplete:"family-name",onChange:function(e){return S(e.target.value)},value:v})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"color",label:"Color",name:"color",autoComplete:"family-name",onChange:function(e){return P(e.target.value)},value:k})}),Object(A.jsx)(U.a,{item:!0,xs:6,sm:12,children:Object(A.jsx)(Me.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return I(t)}})})]}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Add Products"})]})})})]})}var He=a(202);function Ve(e){return Object(A.jsx)(d.a,{sx:{display:"flex","& > :not(style)":{m:1,width:128,height:128}},children:Object(A.jsx)(He.a,{src:e.src,width:250})})}var Ge=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={productId:n.props.recordForEdit._id,item:{},name:"",description:"",quantity:"",price:"",size:"",color:"",photo:"",loggedin:!1,errAlert:"",message:"",updateDate:{}},n}return Object(ue.a)(a,[{key:"update",value:function(e){var t=this;this.setState({loggedin:!1});var a;e.preventDefault(),a={name:this.state.name,description:this.state.description,quantity:this.state.quantity,price:this.state.price,photo:this.state.photo,size:this.state.size,color:this.state.color};var n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};H.a.patch("https://eshop-spot-backend.herokuapp.com"+"/".concat(this.state.productId),a,n,{withCredentials:!0}).then((function(e){console.log("customer updated"),t.setState({item:e.data}),t.setState({loggedin:!0}),t.setState({errAlert:"success"}),t.setState({message:"changes updated"}),setTimeout((function(){window.location.reload(!0)}),100),console.log("page to reload")})).catch((function(e){t.setState({loggedin:!0}),t.setState({errAlert:"error"}),t.setState({message:"Something went wrong"}),console.log("In error"),console.log(e)})),console.log(a)}},{key:"componentDidMount",value:function(){var e=this,t={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};M.a.get("token")||(this.setState({loggedin:!1}),this.setState({errAlert:"error"}),this.setState({message:"Only vendors can update products"})),H.a.get("https://eshop-spot-backend.herokuapp.com"+"/products/".concat(this.state.productId),t,{withCredentials:!0}).then((function(t){e.setState({name:t.data.name,description:t.data.description,quantity:t.data.quantity,price:t.data.price,photo:t.data.photo,size:t.data.size,color:t.data.color}),console.log(e.state.name),console.log(e.state.photo),e.setState({item:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(T.a,{theme:y,children:[this.state.loggedin&&Object(A.jsx)(re,{errAlert:this.state.errAlert,message:this.state.message,user:this.state.firstName}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(A.jsxs)(d.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(Ve,{variant:"outlined",src:this.state.photo}),Object(A.jsxs)(d.a,{component:"form",onSubmit:this.update.bind(this),sx:{mt:3},children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,sm:12,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"name",label:"Product Name",name:"name",autoComplete:"family-name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:12,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"description",label:"Descripiton",name:"description",autoComplete:"family-name",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,name:"price",label:"price",type:"number",id:"price",autoComplete:"new-password",value:this.state.price,onChange:function(t){return e.setState({price:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,name:"quantity",label:"quantity",type:"number",id:"quantity",autoComplete:"new-password",value:this.state.quantity,onChange:function(t){return e.setState({quantity:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{id:"size",label:"Size",name:"size",value:this.state.size,onChange:function(t){return e.setState({size:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{id:"color",label:"Color",name:"color",value:this.state.color,onChange:function(t){return e.setState({color:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:12,children:Object(A.jsx)(Me.a,{type:"file",multiple:!1,onDone:function(t){var a=t.base64;return e.setState({photo:a})}})})]}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.update}),Object(A.jsx)(U.a,{container:!0,justifyContent:"flex-end"})]})]})})]})})}}]),a}(n.Component));function Qe(e){function t(){setTimeout((function(){window.location.reload(!0)}),1e3),console.log("page to reload")}var a=Object(n.useState)(""),s=Object(R.a)(a,2),r=s[0],o=s[1],c=Object(n.useState)(""),i=Object(R.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(""),j=Object(R.a)(u,2),p=j[0],b=j[1],m=Object(n.useState)(!1),x=Object(R.a)(m,2),O=x[0],g=x[1],f=Object(n.useState)(null),v=Object(R.a)(f,2),y=v[0],S=v[1],C=Object(n.useState)(!1),P=Object(R.a)(C,2),T=P[0],N=P[1];function W(){return(W=Object(L.a)(B.a.mark((function e(a){var n,s,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),n="Bearer "+M.a.get("token"),console.log(n),s={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:n}},M.a.get("token")||(d("error"),b("Only vendors can add products")),e.prev=5,e.next=8,H.a.delete("https://eshop-spot-backend.herokuapp.com"+"/product/".concat(a._id),s,{withCredentials:!0});case 8:r=e.sent,console.log(r.data),d("success"),b("Item deleted"),o(a.name),g(!0),t(),e.next=24;break;case 17:e.prev=17,e.t0=e.catch(5),d("error"),g(!0),b("Something went wrong"),console.log("in error"),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[5,17]])})))).apply(this,arguments)}return Object(A.jsxs)("div",{children:[" ",O&&Object(A.jsx)(re,{errAlert:l,message:p,user:r}),Object(A.jsx)(Ce.a,{component:Ae.a,children:Object(A.jsxs)(ve.a,{sx:{minWidth:650},"aria-label":"Product table",children:[Object(A.jsx)(we.a,{children:Object(A.jsxs)(ke.a,{children:[Object(A.jsx)(Se.a,{style:w.ProductTableCell_First}),Object(A.jsx)(Se.a,{align:"center",children:h.product.name}),Object(A.jsxs)(Se.a,{align:"center",children:[h.product.desc,"\xa0"]}),Object(A.jsxs)(Se.a,{align:"center",children:[h.product.price,"\xa0"]}),Object(A.jsxs)(Se.a,{align:"center",children:[h.product.quantity,"\xa0"]}),Object(A.jsx)(Se.a,{}),Object(A.jsx)(Se.a,{})]})}),Object(A.jsx)(ye.a,{children:e.products.map((function(e){return Object(A.jsxs)(ke.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(A.jsx)(Se.a,{children:Object(A.jsx)(V.a,{variant:"rounded",src:e.photo})}),Object(A.jsx)(Se.a,{style:w.ProductTableCell,children:e.name}),Object(A.jsx)(Se.a,{style:w.ProductTableCell,children:ge()(e.description,3,"...")}),Object(A.jsxs)(Se.a,{style:w.ProductTableCell,children:["$",e.price]}),Object(A.jsx)(Se.a,{style:w.ProductTableCell,children:e.quantity}),Object(A.jsx)(Se.a,{variant:"body2",children:Object(A.jsx)(k.a,{underline:"none",href:"#",variant:"body2",children:Object(A.jsx)(We.a,{onClick:function(){return S(e),void N(!0)}})})}),Object(A.jsx)(Se.a,{children:Object(A.jsx)(k.a,{underline:"none",href:"#",variant:"body2",children:Object(A.jsx)(Te.a,{onClick:function(){return function(e){return W.apply(this,arguments)}(e)}})})})]},e._id)}))})]})}),Object(A.jsx)(Re,{title:"Edit Product",openPopup:T,setOpenPopup:N,children:Object(A.jsx)(Ge,{recordForEdit:y,setOpenPopup:N})})]})}var $e=a(374),Je=a(139),Ze=a.n(Je),Ke=a(140),Xe=a.n(Ke);function Ye(){var e=Object(n.useState)(!1),t=Object(R.a)(e,2),a=(t[0],t[1]),s=Object(n.useState)(""),r=Object(R.a)(s,2),o=(r[0],r[1]),c=Object(n.useState)(""),p=Object(R.a)(c,2),b=(p[0],p[1]),m=Object(i.e)();function x(){return(x=Object(L.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer "+M.a.get("token"),n={"Content-Type":"application/json;charset=UTF-8",Authorization:t};try{H.a.post("https://eshop-spot-backend.herokuapp.com/vendor/logout",{headers:n,withCredentials:!0}).then((function(e){console.log("Vendor Logged out "),console.log(e.data.price,"from api")})).catch((function(e){console.log(e)})),m.push({pathname:"/vendorview/login"})}catch(s){o("error"),a(!0),b("Invalid Data"),console.log("in error"),console.log(s)}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){M.a.get("token")||(a(!0),o("error"),b("Invalid authentication"))}),[]),Object(A.jsx)(S.a,{theme:y,children:Object(A.jsx)(d.a,{sx:{flexGrow:1},children:Object(A.jsx)(l.a,{position:"static",style:w.Header,color:"primary",children:Object(A.jsxs)(u.a,{style:w.Toolbar,children:[Object(A.jsx)(j.a,{component:"div",sx:{flexGrow:1,fontSize:24},children:Object(A.jsx)(k.a,{underline:"none",variant:"h5",color:"inherit",href:"/vendorview/home",sx:{fontSize:24},children:h.Common.websiteName})}),Object(A.jsx)(d.a,{sx:{flexGrow:1}}),Object(A.jsxs)(d.a,{sx:{display:{xs:"none",md:"flex"}},children:[Object(A.jsx)(k.a,{color:"inherit",underline:"none",variant:"h6",href:"/vendorview/sales",style:w.HeaderIcons,children:h.vendor.sales}),Object(A.jsx)($e.a,{size:"large","aria-label":"account of current user",href:"/vendorview/profile",color:"inherit",children:Object(A.jsx)(Ze.a,{})}),Object(A.jsx)($e.a,{size:"large",edge:"end",onClick:function(){return function(){return x.apply(this,arguments)}()},color:"inherit",children:Object(A.jsx)(Xe.a,{})})]})]})})})})}var et=a(348),tt=function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={products:[],loggedin:!1,errAlert:"",openPopup:!1,recordForEdit:null},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=Object(L.a)(B.a.mark((function e(){var t,a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Invalid Authentication"),t="Bearer "+M.a.get("token"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:t}},e.prev=3,e.next=6,H.a.get("https://eshop-spot-backend.herokuapp.com/product/mine",a,{withCredentials:!0});case 6:n=e.sent,console.log(n),this.setState({products:n.data}),e.next=18;break;case 11:e.prev=11,e.t0=e.catch(3),this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products",console.log("in error"),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"updatePopup",value:function(e){this.setState({openPopup:e})}},{key:"openInPopup",value:function(e){this.setState({recordForEdit:e}),this.updatePopup(!0)}},{key:"render",value:function(){var e=this;return Object(A.jsxs)(S.a,{theme:y,children:[Object(A.jsx)(N.a,{}),Object(A.jsx)(Ye,{}),Object(A.jsx)(et.a,{style:w.ProductListBox,children:Object(A.jsx)(Qe,{products:this.state.products,openInPopup:function(t){return e.openInPopup(t)}})}),Object(A.jsx)(z.a,{onClick:function(){return e.updatePopup(!0)},variant:"body2",children:Object(A.jsx)(ee,{addIcon:!0,text:"Add Product"})}),Object(A.jsx)(Re,{title:"Add Product",openPopup:this.state.openPopup,setOpenPopup:function(t){return e.updatePopup(t)},children:Object(A.jsx)(_e,{recordForEdit:this.state.recordForEdit,setOpenPopup:function(t){return e.updatePopup(t)}})})]})}}]),a}(n.Component),at=W(tt),nt=a(7),st=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n,s;return Object(de.a)(this,a),(s=t.call(this,e)).state=(n={user:{},firstName:"",lastName:"",age:"",contact:"",loggedin:!1,errAlert:"",message:""},Object(nt.a)(n,"loggedin",!1),Object(nt.a)(n,"updateDate",{}),n),s}return Object(ue.a)(a,[{key:"update",value:function(e){var t=this;this.setState({loggedin:!1});var a;e.preventDefault(),a={firstName:this.state.firstName,lastName:this.state.lastName,age:this.state.age,contact:this.state.contact};var n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};H.a.patch("https://eshop-spot-backend.herokuapp.com/vendors/me",a,n,{withCredentials:!0}).then((function(e){console.log("customer updated"),t.setState({user:e.data}),t.setState({loggedin:!0}),t.setState({errAlert:"success"}),t.setState({message:"changes updated"})})).catch((function(e){t.setState({loggedin:!0}),t.setState({errAlert:"error"}),t.setState({message:"Something went wrong"}),console.log(e)})),console.log(a)}},{key:"componentDidMount",value:function(){var e=this,t={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products"),H.a.get("https://eshop-spot-backend.herokuapp.com/vendors/me",t,{withCredentials:!0}).then((function(t){e.setState({age:t.data.age}),e.setState({firstName:t.data.firstName}),e.setState({lastName:t.data.lastName}),e.setState({contact:t.data.contact}),e.setState({user:t.data})})).catch((function(e){console.log(e)})),console.log(this.state.firstName)}},{key:"render",value:function(){var e=this;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(T.a,{theme:y,children:[this.state.loggedin&&Object(A.jsx)(re,{errAlert:this.state.errAlert,message:this.state.message,user:this.state.firstName}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",style:w.TabContainer,children:Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(j.a,{component:"h1",variant:"h5",children:h.SignUp.Labels.asVendorUpdate}),Object(A.jsxs)(d.a,{component:"form",onSubmit:this.update.bind(this),sx:{mt:3},children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"firstName",label:h.SignUp.Labels.firstName,name:"firstName",autoComplete:"family-name",value:this.state.firstName,onChange:function(t){return e.setState({firstName:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"lastName",label:h.SignUp.Labels.lastName,name:"lastName",autoComplete:"family-name",value:this.state.lastName,onChange:function(t){return e.setState({lastName:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{id:"age",label:h.SignUp.Labels.age,name:"age",value:this.state.age,onChange:function(t){return e.setState({age:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"contact",label:h.SignUp.Labels.contact,name:"contact",value:this.state.contact,onChange:function(t){return e.setState({contact:t.target.value})}})})]}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.update}),Object(A.jsx)(U.a,{container:!0,justifyContent:"flex-end"})]})]})})]})})}}]),a}(n.Component)),rt=a(353),ot=a(349),ct=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state=Object(nt.a)({user:{},password:"",confirmPassword:"",loggedin:!1,errAlert:"",message:""},"loggedin",!1),n}return Object(ue.a)(a,[{key:"validate",value:function(){return this.state.password===this.state.confirmPassword}},{key:"update",value:function(e){var t=this;if(this.validate()){this.setState({loggedin:!1});var a={};e.preventDefault(),a={password:this.state.password};var n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};H.a.patch("https://eshop-spot-backend.herokuapp.com/vendors/me",a,n,{withCredentials:!0}).then((function(e){console.log("customer updated"),t.setState({user:e.data}),t.setState({loggedin:!0}),t.setState({errAlert:"success"}),t.setState({message:"changes updated"})})).catch((function(e){t.setState({loggedin:!0}),t.setState({errAlert:"error"}),t.setState({message:"Something went wrong"}),console.log(e)}))}else e.preventDefault(),this.setState({loggedin:!0}),this.setState({errAlert:"error"}),this.setState({message:"Passwords do not match"});console.log(a)}},{key:"render",value:function(){var e=this;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(T.a,{theme:y,children:[this.state.loggedin&&Object(A.jsx)(re,{errAlert:this.state.errAlert,message:this.state.message,user:this.state.firstName}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",style:w.TabContainer,children:Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(j.a,{component:"h1",variant:"h6",children:"Update Password"}),Object(A.jsxs)(d.a,{component:"form",onSubmit:this.update.bind(this),sx:{mt:3},children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{fullWidth:!0,name:"password",label:"New Password",type:"password",id:"password",autoComplete:"new-password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{fullWidth:!0,name:"confirmPassword",label:"Confirm New Password",type:"password",id:"confirmPassword",autoComplete:"new-password",value:this.state.confirmPassword,onChange:function(t){return e.setState({confirmPassword:t.target.value})}})})]}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.update}),Object(A.jsx)(U.a,{container:!0,justifyContent:"flex-end"})]})]})})]})})}}]),a}(n.Component));var it=W((function(e){var t=this,a=Object(n.useState)({}),s=Object(R.a)(a,2),r=s[0],o=s[1],c=Object(n.useState)(!1),i=Object(R.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(""),b=Object(R.a)(u,2),m=(b[0],b[1]),x=Object(n.useState)(""),O=Object(R.a)(x,2),g=O[0],f=O[1],v=Object(n.useState)(""),S=Object(R.a)(v,2),C=S[0],k=S[1],P=function(){var e=Object(L.a)(B.a.mark((function e(){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="Bearer "+M.a.get("token"),n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:a}},e.prev=2,e.next=5,H.a.get("https://eshop-spot-backend.herokuapp.com/vendors/me",n,{withCredentials:!0});case 5:s=e.sent,console.log(s),null!=s.data.address?o(s.data.address):o({street1:"",street2:"",zipcode:"",city:"",state:"",country:""}),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(2),t.setState({callFlag:!0}),t.setState({errAlert:"error"}),t.setState({message:"Invalid Authentication"}),console.log("in error"),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();function N(){return(N=Object(L.a)(B.a.mark((function e(t){var a,n,s,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=24;break}return t.preventDefault(),a={address:r},console.log(a,"  address"),n="Bearer "+M.a.get("token"),s={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:n}},e.prev=6,console.log(r,"  input"),d(!1),e.next=11,H.a.patch("https://eshop-spot-backend.herokuapp.com/vendors/me",a,s,{withCredentials:!0});case 11:o=e.sent,console.log(o),o&&(d(!0),f("success"),k("Address Edited"),console.log("Address Edited")),e.next=24;break;case 16:e.prev=16,e.t0=e.catch(6),m(""),f("error"),d(!0),k("Invalid Data"),console.log("in error"),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[6,16]])})))).apply(this,arguments)}Object(n.useEffect)((function(){M.a.get("token")||(d(!0),f("error"),k("Invalid authentication")),P()}),[]);var W=function(e){e.persist(),o((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(nt.a)({},e.target.name,e.target.value))}))};return Object(A.jsxs)(T.a,{theme:y,children:[l&&Object(A.jsx)(re,{errAlert:g,message:C}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",style:w.TabContainer,children:Object(A.jsxs)(et.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},component:"form",onSubmit:function(e){return N.apply(this,arguments)},children:[Object(A.jsx)(j.a,{variant:"h6",gutterBottom:!0,component:"h1",children:"Vendor address"}),Object(A.jsxs)(U.a,{container:!0,spacing:3,children:[Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{required:!0,id:"street1",name:"street1",label:h.Address.street1,fullWidth:!0,autoComplete:"shipping address-line1",variant:"standard",onChange:W,value:r.street1})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{id:"street2",name:"street2",label:h.Address.street2,fullWidth:!0,autoComplete:"shipping address-line2",variant:"standard",onChange:W,value:r.street2})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"city",name:"city",label:h.Address.city,fullWidth:!0,autoComplete:"shipping address-level2",variant:"standard",onChange:W,value:r.city})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"state",name:"state",label:h.Address.state,fullWidth:!0,variant:"standard",onChange:W,value:r.state})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"zipcode",name:"zipcode",label:h.Address.zip,fullWidth:!0,autoComplete:"shipping postal-code",variant:"standard",onChange:W,value:r.zipcode})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"country",name:"country",label:h.Address.country,fullWidth:!0,autoComplete:"shipping country",variant:"standard",onChange:W,value:r.country})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"})})]})]})})]})})),lt=function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(){var e;Object(de.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={activeIndex:0},e.handleChange=function(t,a){return e.setState({activeIndex:a})},e}return Object(ue.a)(a,[{key:"render",value:function(){var e=this.state.activeIndex;return Object(A.jsx)(S.a,{theme:y,children:Object(A.jsxs)("div",{style:{display:"flex",paddingTop:"10px"},children:[Object(A.jsx)(et.a,{style:w.MyProfileTabsBox,children:Object(A.jsxs)(rt.a,{value:e,onChange:this.handleChange,orientation:"vertical",children:[Object(A.jsx)(ot.a,{style:w.MyProfileTab,label:"Update my details"}),Object(A.jsx)(ot.a,{style:w.MyProfileTab,label:"Update password"}),Object(A.jsx)(ot.a,{style:w.MyProfileTab,label:"Update Address"})]})}),0===e&&Object(A.jsxs)(dt,{children:[" ",Object(A.jsx)(st,{})," "]}),1===e&&Object(A.jsxs)(dt,{children:[" ",Object(A.jsx)(ct,{})," "]}),2===e&&Object(A.jsxs)(dt,{children:[" ",Object(A.jsx)(it,{})," "]})]})})}}]),a}(s.a.PureComponent);function dt(e){return Object(A.jsx)(j.a,{component:"div",style:{padding:24},children:e.children})}var ut=lt;var jt=W((function(){return Object(A.jsxs)(S.a,{theme:y,children:[Object(A.jsx)(N.a,{}),Object(A.jsx)(Ye,{}),Object(A.jsx)(ut,{})]})})),ht=W((function(e){var t=Object(n.useState)({}),a=Object(R.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(!1),c=Object(R.a)(o,2),l=c[0],u=c[1],b=Object(n.useState)(""),m=Object(R.a)(b,2),x=m[0],O=m[1],g=Object(n.useState)(""),f=Object(R.a)(g,2),v=f[0],S=f[1],C=Object(n.useState)(""),N=Object(R.a)(C,2),W=N[0],q=N[1],I=Object(i.e)();function F(){return(F=Object(L.a)(B.a.mark((function e(t){var a,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=21;break}return t.preventDefault(),a=s,console.log(a,"  --  ",s),e.prev=4,u(!1),e.next=8,H.a.post("https://eshop-spot-backend.herokuapp.com/customer/signup",a,{withCredentials:!0});case 8:n=e.sent,console.log(n),n&&(u(!0),S("success"),q("Welcome ",x.firstName),O(n.data.customer.firstName),I.push({pathname:"/customerview/home",openSnackbar:!0})),e.next=21;break;case 13:e.prev=13,e.t0=e.catch(4),O(""),S("error"),u(!0),q("Invalid Data"),console.log("in error"),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}var E=function(e){e.persist(),r((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(nt.a)({},e.target.name,e.target.value))}))};return Object(A.jsxs)(T.a,{theme:y,children:[l&&Object(A.jsx)(re,{errAlert:v,message:W,user:x}),Object(A.jsx)(P,{}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(V.a,{style:w.Avatar,sx:{m:1,bgcolor:"secondary.main"},children:Object(A.jsx)(ie.a,{})}),Object(A.jsx)(j.a,{component:"h1",variant:"h5",children:h.SignUp.Labels.customerSignup}),Object(A.jsxs)(d.a,{component:"form",onSubmit:function(e){return F.apply(this,arguments)},sx:{mt:3},children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:h.SignUp.Labels.firstName,autoFocus:!0,onChange:E})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,id:"lastName",label:h.SignUp.Labels.lastName,name:"lastName",autoComplete:"family-name",onChange:E})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,id:"email",label:h.SignUp.Labels.email,name:"email",autoComplete:"email",onChange:E})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,name:"password",label:h.SignUp.Labels.password,type:"password",id:"password",autoComplete:"new-password",onChange:E})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"age",label:h.SignUp.Labels.age,name:"age",autoComplete:"family-name",onChange:E})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,fullWidth:!0,id:"contact",name:"contact",label:h.SignUp.Labels.contact,autoComplete:"family-name",onChange:E})})]}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.signup}),Object(A.jsx)(U.a,{container:!0,justifyContent:"flex-end",children:Object(A.jsx)(U.a,{item:!0,children:Object(A.jsx)(k.a,{href:"/customerview/login",variant:"body2",children:h.SignUp.Labels.hasAccount})})})]})]})}),Object(A.jsx)(k.a,{href:"/vendorview/signup",variant:"body2",children:Object(A.jsx)(ee,{personIcon:!0,text:h.SignUp.Labels.asVendorSignup})})]})}));var pt=W((function(){var e=Object(n.useState)(""),t=Object(R.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),o=Object(R.a)(r,2),c=o[0],l=o[1],u=Object(n.useState)(),p=Object(R.a)(u,2),b=p[0],m=p[1],x=Object(n.useState)(""),O=Object(R.a)(x,2),g=O[0],f=O[1],v=Object(n.useState)(""),S=Object(R.a)(v,2),C=S[0],W=S[1],q=Object(n.useState)(""),I=Object(R.a)(q,2),F=I[0],E=I[1],M=Object(i.e)();function _(){return(_=Object(L.a)(B.a.mark((function e(t){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=new FormData(t.currentTarget),n={email:a.get("email"),password:a.get("password")},e.prev=3,e.next=6,H.a.post("https://eshop-spot-backend.herokuapp.com/customer/login",n,{withCredentials:!0});case 6:s=e.sent,console.log(s),s&&(m(!0),W("success"),E("Welcome"),f(s.data.customer.firstName),M.push({pathname:"/customerview/home",openSnackbar:!0})),e.next=19;break;case 11:e.prev=11,e.t0=e.catch(3),f(""),W("error"),m(!0),E("Invalid Credentials"),console.log("in error"),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}return Object(A.jsxs)(T.a,{theme:y,children:[b&&Object(A.jsx)(re,{errAlert:C,message:F,user:g}),Object(A.jsx)(P,{}),Object(A.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(A.jsx)(N.a,{}),Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(V.a,{style:w.Avatar,sx:{m:1,bgcolor:"secondary.main"},children:Object(A.jsx)($.a,{})}),Object(A.jsx)(j.a,{component:"h1",variant:"h5",children:h.SignUp.Labels.customerLogin}),Object(A.jsxs)(d.a,{component:"form",onSubmit:function(e){return _.apply(this,arguments)},noValidate:!0,sx:{mt:1},children:[Object(A.jsx)(G.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:h.SignUp.Labels.email,name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return s(e.target.value)},value:a}),Object(A.jsx)(G.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:h.SignUp.Labels.password,type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return l(e.target.value)},value:c}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.login}),Object(A.jsxs)(U.a,{container:!0,children:[Object(A.jsx)(U.a,{item:!0,xs:!0}),Object(A.jsx)(U.a,{item:!0,children:Object(A.jsx)(k.a,{href:"/customerview/signup",variant:"body2",children:h.SignUp.Labels.noAccount})})]})]})]})]}),Object(A.jsx)(k.a,{href:"/vendorview/login",variant:"body2",children:Object(A.jsx)(ee,{personIcon:!0,text:h.SignUp.Labels.asVendorLogin})})]})})),bt=a(21),mt=a(360),xt=a(113),Ot=a.n(xt);function gt(){var e=Object(n.useState)(!1),t=Object(R.a)(e,2),a=(t[0],t[1]),s=Object(n.useState)(""),r=Object(R.a)(s,2),o=(r[0],r[1]),c=Object(n.useState)(""),p=Object(R.a)(c,2),b=(p[0],p[1]),m=Object(i.e)();function x(){return(x=Object(L.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer "+M.a.get("token"),n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:t}};try{H.a.post("https://eshop-spot-backend.herokuapp.com/customer/logout",n,{withCredentials:!0}).then((function(e){M.a.remove(),console.log("Customer Logged out ")})).catch((function(e){console.log(e)})),m.push({pathname:"/customerview/login"})}catch(s){M.a.remove(),o("error"),a(!0),b("Invalid Data"),console.log("in error"),console.log(s),m.push({pathname:"/customerview/login"})}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){M.a.get("token")||(a(!0),o("error"),b("Invalid authentication"))}),[]),Object(A.jsx)(S.a,{theme:y,children:Object(A.jsx)(d.a,{sx:{flexGrow:1},children:Object(A.jsx)(l.a,{position:"static",style:w.Header,color:"primary",children:Object(A.jsxs)(u.a,{style:w.Toolbar,children:[Object(A.jsx)(j.a,{component:"div",sx:{flexGrow:1,fontSize:24},children:Object(A.jsx)(k.a,{underline:"none",variant:"h5",color:"inherit",href:"/customerview/home",sx:{fontSize:24},children:h.Common.websiteName})}),Object(A.jsx)(d.a,{sx:{flexGrow:1}}),Object(A.jsxs)(d.a,{sx:{display:{xs:"none",md:"flex"}},children:[Object(A.jsx)($e.a,{size:"large","aria-label":"show number of products in cart",color:"inherit",href:"/customerview/cart",children:Object(A.jsx)(mt.a,{color:"secondary",children:Object(A.jsx)(Ot.a,{})})}),Object(A.jsx)($e.a,{size:"large","aria-label":"account of current user",href:"/customerview/profile",color:"inherit",children:Object(A.jsx)(Ze.a,{})}),Object(A.jsx)($e.a,{size:"large",edge:"end",onClick:function(){return function(){return x.apply(this,arguments)}()},color:"inherit",children:Object(A.jsx)(Xe.a,{})})]})]})})})})}var ft=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={products:[],oldCart:{},productsAll:[],tableProd:[],loggedin:!1,errAlert:"",noProducts:!1},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.a.get("https://eshop-spot-backend.herokuapp.com/product/all").then((function(t){console.log("response"+t.data),e.setState({products:t.data}),e.setState({productsAll:t.data}),0==t.data.length&&e.setState({noProducts:!0});for(var a=0;a<e.state.productsAll.length;a++){for(var n=0;n<e.state.oldCart[0].productlist.length;n++)if(e.state.productsAll[a]._id==e.state.oldCart[0].productlist[n].product){var s={id:e.state.productsAll[a]._id,name:e.state.productsAll[a].name,photo:e.state.productsAll[a].photo,price:e.state.productsAll[a].price,quantity:e.state.oldCart[0].productlist[n].quantity,backQuantity:e.state.productsAll.quantity};e.setState({tableProd:[].concat(Object(bt.a)(e.state.tableProd),[s])})}console.log(e.state.tableProd,"tab")}})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(A.jsxs)(S.a,{theme:y,children:[Object(A.jsx)(N.a,{}),Object(A.jsx)(gt,{}),Object(A.jsxs)(D.a,{sx:{py:6},children:[this.state.noProducts&&Object(A.jsx)(j.a,{children:" No Products Available"}),Object(A.jsx)(U.a,{container:!0,spacing:4,children:this.state.products.filter((function(e){return e.quantity>0})).map((function(t){return Object(A.jsx)(U.a,{item:!0,xs:3,children:Object(A.jsx)(fe,{oldCart:e.state.oldCart,product:t})},t)}))})]})]})}}]),a}(n.Component));var vt=W((function(e){var t=Object(n.useState)({}),a=Object(R.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(!1),c=Object(R.a)(o,2),l=c[0],d=c[1],u=Object(n.useState)(""),j=Object(R.a)(u,2),b=j[0],m=j[1],x=Object(n.useState)(""),O=Object(R.a)(x,2),g=O[0],f=O[1],v=Object(n.useState)(!1),S=Object(R.a)(v,2),C=S[0],w=S[1];function k(){return(k=Object(L.a)(B.a.mark((function t(a){var n,r,o,c,i;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=42;break}if(a.preventDefault(),n=s,console.log(n,"  address"),r="Bearer "+M.a.get("token"),o={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:r}},!C){t.next=26;break}return t.prev=7,console.log(s._id,"  input"),d(!1),t.next=12,H.a.patch("https://eshop-spot-backend.herokuapp.com"+"/address/".concat(s._id),n,o,{withCredentials:!0});case 12:c=t.sent,console.log(c),c&&(d(!0),m("success"),f("Address Edited"),console.log("Address Edited"),e.setOpenPopup(!1),window.location.href="/customerview/profile/3"),t.next=24;break;case 17:t.prev=17,t.t0=t.catch(7),m("error"),d(!0),f("Invalid Data"),console.log("in error"),console.log(t.t0);case 24:t.next=42;break;case 26:return t.prev=26,d(!1),t.next=30,H.a.post("https://eshop-spot-backend.herokuapp.com/address/add",n,o,{withCredentials:!0});case 30:i=t.sent,console.log(i),i&&(d(!0),m("success"),f("Welcome"),e.setOpenPopup(!1),window.location.href="/customerview/profile/3"),t.next=42;break;case 35:t.prev=35,t.t1=t.catch(26),m("error"),d(!0),f("Invalid Data"),console.log("in error"),console.log(t.t1);case 42:case"end":return t.stop()}}),t,null,[[7,17],[26,35]])})))).apply(this,arguments)}Object(i.e)(),Object(n.useEffect)((function(){M.a.get("token")||(d(!0),m("error"),f("Invalid authentication")),null!=e.recordForEdit&&(r(e.recordForEdit),w(!0))}),[]);var P=function(e){e.persist(),r((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(nt.a)({},e.target.name,e.target.value))}))};return Object(A.jsxs)(T.a,{theme:y,children:[l&&Object(A.jsx)(re,{errAlert:b,message:g}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(A.jsx)(et.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},component:"form",onSubmit:function(e){return k.apply(this,arguments)},children:Object(A.jsxs)(U.a,{container:!0,spacing:3,children:[Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"firstName",name:"firstName",label:h.Common.firstName,fullWidth:!0,autoComplete:"given-name",variant:"standard",onChange:P,value:s.firstName})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"lastName",name:"lastName",label:h.Common.lastName,fullWidth:!0,autoComplete:"family-name",variant:"standard",onChange:P,value:s.lastName})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{required:!0,id:"street1",name:"street1",label:h.Address.street1,fullWidth:!0,autoComplete:"shipping address-line1",variant:"standard",onChange:P,value:s.street1})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{id:"street2",name:"street2",label:h.Address.street2,fullWidth:!0,autoComplete:"shipping address-line2",variant:"standard",onChange:P,value:s.street2})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"city",name:"city",label:h.Address.city,fullWidth:!0,autoComplete:"shipping address-level2",variant:"standard",onChange:P,value:s.city})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"state",name:"state",label:h.Address.state,fullWidth:!0,variant:"standard",onChange:P,value:s.state})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"zipcode",name:"zipcode",label:h.Address.zip,fullWidth:!0,autoComplete:"shipping postal-code",variant:"standard",onChange:P,value:s.zipcode})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{required:!0,id:"country",name:"country",label:h.Address.country,fullWidth:!0,autoComplete:"shipping country",variant:"standard",onChange:P,value:s.country})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"})})]})})})]})})),yt=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n,s;return Object(de.a)(this,a),(s=t.call(this,e)).state=(n={user:{},password:"",firstName:"",lastName:"",age:"",contact:"",loggedin:!1,errAlert:"",message:""},Object(nt.a)(n,"loggedin",!1),Object(nt.a)(n,"updateDate",{}),n),s}return Object(ue.a)(a,[{key:"update",value:function(e){var t=this;this.setState({loggedin:!1});var a={};e.preventDefault(),a=""==this.state.password?{firstName:this.state.firstName,lastName:this.state.lastName,age:this.state.age,contact:this.state.contact}:{password:this.state.password,firstName:this.state.firstName,lastName:this.state.lastName,age:this.state.age,contact:this.state.contact};var n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};H.a.patch("https://eshop-spot-backend.herokuapp.com/customers/me",a,n,{withCredentials:!0}).then((function(e){console.log("customer updated"),t.setState({user:e.data}),t.setState({loggedin:!0}),t.setState({errAlert:"success"}),t.setState({message:"changes updated"})})).catch((function(e){t.setState({loggedin:!0}),t.setState({errAlert:"error"}),t.setState({message:"Something went wrong"}),console.log(e)})),console.log(a)}},{key:"componentDidMount",value:function(){var e=this,t={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products"),H.a.get("https://eshop-spot-backend.herokuapp.com/customers/me",t,{withCredentials:!0}).then((function(t){e.setState({age:t.data.age}),e.setState({firstName:t.data.firstName}),e.setState({lastName:t.data.lastName}),e.setState({contact:t.data.contact}),e.setState({user:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(T.a,{theme:y,children:[this.state.loggedin&&Object(A.jsx)(re,{errAlert:this.state.errAlert,message:this.state.message,user:this.state.firstName}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",style:w.TabContainer,children:Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(j.a,{component:"h1",variant:"h6",children:h.SignUp.Labels.asCustomerUpdate}),Object(A.jsxs)(d.a,{component:"form",onSubmit:this.update.bind(this),sx:{mt:3},children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"firstName",label:h.SignUp.Labels.firstName,name:"firstName",autoComplete:"family-name",value:this.state.firstName,onChange:function(t){return e.setState({firstName:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"lastName",label:h.SignUp.Labels.lastName,name:"lastName",autoComplete:"family-name",value:this.state.lastName,onChange:function(t){return e.setState({lastName:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{id:"age",label:h.SignUp.Labels.age,name:"age",value:this.state.age,onChange:function(t){return e.setState({age:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"contact",label:h.SignUp.Labels.contact,name:"contact",value:this.state.contact,onChange:function(t){return e.setState({contact:t.target.value})}})})]}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.update}),Object(A.jsx)(U.a,{container:!0,justifyContent:"flex-end"})]})]})})]})})}}]),a}(n.Component));function St(e){return Object(A.jsxs)(pe.a,{sx:{minWidth:250,maxWidth:300,maxHeight:300,minHeight:200},children:[console.log(e," -- pop"),Object(A.jsxs)(me.a,{sx:{minHeight:150},children:[Object(A.jsxs)(j.a,{variant:"h6",sx:{mb:1.5},children:[e.address.firstName," ",e.address.lastName]}),Object(A.jsxs)(j.a,{variant:"body2",children:[" ",e.address.street1," "]}),Object(A.jsxs)(j.a,{variant:"body2",children:[" ",e.address.street2," "]}),Object(A.jsxs)(j.a,{variant:"body2",children:["   ",e.address.city,", ",e.address.state," "]}),Object(A.jsxs)(j.a,{variant:"body2",children:["  ",e.address.zipcode," - ",e.country," "]})]}),Object(A.jsxs)(be.a,{children:[Object(A.jsx)(z.a,{style:w.CardButton,onClick:function(){return t=e.address,void e.openInPopup(t);var t},size:"small",variant:"outlined",color:"secondary",children:"Edit "}),Object(A.jsx)(z.a,{style:w.CardButton,onClick:function(){return t=e.address,void e.delAddress(t);var t},size:"small",variant:"outlined",color:"secondary",children:"Delete"})]})]})}var Ct=W((function(){var e=this,t=Object(n.useState)(!1),a=Object(R.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)([]),c=Object(R.a)(o,2),i=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(R.a)(d,2),j=u[0],h=u[1],p=Object(n.useState)(""),b=Object(R.a)(p,2),m=(b[0],b[1],Object(n.useState)("")),x=Object(R.a)(m,2),O=x[0],g=x[1],f=Object(n.useState)(""),v=Object(R.a)(f,2),C=v[0],k=v[1],P=Object(n.useState)(""),T=Object(R.a)(P,2),W=(T[0],T[1]),q=Object(n.useState)(null),I=Object(R.a)(q,2),F=I[0],E=I[1],_=Object(n.useState)(!1),V=Object(R.a)(_,2);function G(){setTimeout((function(){window.location.reload(!0)}),10),console.log("page to reload")}V[0],V[1];var Q=function(e){E(e),r(!0)};function $(e){return J.apply(this,arguments)}function J(){return J=Object(L.a)(B.a.mark((function e(t){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!1),a="Bearer "+M.a.get("token"),console.log(a),n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:a}},M.a.get("token")||(g("error"),k("Can not delete address")),e.prev=5,e.next=8,H.a.delete("https://eshop-spot-backend.herokuapp.com"+"/address/".concat(t._id),n,{withCredentials:!0});case 8:s=e.sent,console.log(s.data),g("success"),k("Address deleted"),W(t.name),h(!0),G(),e.next=24;break;case 17:e.prev=17,e.t0=e.catch(5),g("error"),h(!0),k("Something went wrong"),console.log("in error"),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[5,17]])}))),J.apply(this,arguments)}var Z=function(){var t=Object(L.a)(B.a.mark((function t(){var a,n,s;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="Bearer "+M.a.get("token"),n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:a}},t.prev=2,t.next=5,H.a.get("https://eshop-spot-backend.herokuapp.com/addresses/mine",n,{withCredentials:!0});case 5:s=t.sent,console.log(s),l(s.data),console.log(i),t.next=18;break;case 11:t.prev=11,t.t0=t.catch(2),e.setState.callFlag=!0,e.state.errAlert="error",e.state.message="Invalid Authentication",console.log("in error"),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){M.a.get("token")||(h(!0),g("error"),k("Invalid authentication")),Z()}),[]),Object(A.jsxs)(S.a,{theme:y,children:[Object(A.jsx)(N.a,{}),j&&Object(A.jsx)(re,{errAlert:O,message:C}),Object(A.jsx)(D.a,{sx:{py:6},children:Object(A.jsx)(U.a,{container:!0,spacing:3,children:i.map((function(e){return Object(A.jsx)(U.a,{item:!0,xs:3,style:w.CardGridAddress,children:Object(A.jsx)(St,{address:e,delAddress:$,openInPopup:Q})},e)}))})}),Object(A.jsx)(z.a,{onClick:function(){return r(!0)},variant:"body2",children:Object(A.jsx)(ee,{addIcon:!0,text:"Add Address"})}),Object(A.jsx)(Re,{title:"Add Address",openPopup:s,setOpenPopup:r,children:Object(A.jsx)(vt,{recordForEdit:F,setOpenPopup:r})})]})})),wt=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state=Object(nt.a)({user:{},password:"",confirmPassword:"",loggedin:!1,errAlert:"",message:""},"loggedin",!1),n}return Object(ue.a)(a,[{key:"validate",value:function(){return this.state.password===this.state.confirmPassword}},{key:"update",value:function(e){var t=this;if(this.validate()){this.setState({loggedin:!1});var a={};e.preventDefault(),a={password:this.state.password};var n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};H.a.patch("https://eshop-spot-backend.herokuapp.com/customers/me",a,n,{withCredentials:!0}).then((function(e){console.log("customer updated"),t.setState({user:e.data}),t.setState({loggedin:!0}),t.setState({errAlert:"success"}),t.setState({message:"changes updated"})})).catch((function(e){t.setState({loggedin:!0}),t.setState({errAlert:"error"}),t.setState({message:"Something went wrong"}),console.log(e)}))}else e.preventDefault(),this.setState({loggedin:!0}),this.setState({errAlert:"error"}),this.setState({message:"Passwords do not match"});console.log(a)}},{key:"render",value:function(){var e=this;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(T.a,{theme:y,children:[this.state.loggedin&&Object(A.jsx)(re,{errAlert:this.state.errAlert,message:this.state.message,user:this.state.firstName}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",style:w.TabContainer,children:Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(A.jsx)(j.a,{component:"h1",variant:"h6",children:"Update Password"}),Object(A.jsxs)(d.a,{component:"form",onSubmit:this.update.bind(this),sx:{mt:3},children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{fullWidth:!0,name:"password",label:"New Password",type:"password",id:"password",autoComplete:"new-password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(G.a,{fullWidth:!0,name:"confirmPassword",label:"Confirm New Password",type:"password",id:"confirmPassword",autoComplete:"new-password",value:this.state.confirmPassword,onChange:function(t){return e.setState({confirmPassword:t.target.value})}})})]}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:h.Common.update}),Object(A.jsx)(U.a,{container:!0,justifyContent:"flex-end"})]})]})})]})})}}]),a}(n.Component)),kt=a(204),At=a(5),Pt=a(385),Tt=a(386),Nt=a(157),Wt=a.n(Nt),zt=a(387);function Dt(e){var t=n.useState(),a=Object(R.a)(t,2),s=a[0],r=a[1],o=n.useState(!1),c=Object(R.a)(o,2),l=c[0],u=c[1],h=Object(n.useState)(""),p=Object(R.a)(h,2),b=p[0],m=p[1],x=Object(n.useState)(""),O=Object(R.a)(x,2),g=O[0],f=O[1],v=Object(n.useState)(e.item),y=Object(R.a)(v,2),S=y[0];y[1],Object(i.e)();return Object(A.jsxs)(U.a,{container:!0,direction:"row",xs:12,sx:{p:2},children:[l&&Object(A.jsx)(re,{errAlert:b,message:g}),Object(A.jsx)(U.a,{item:!0,xs:2,style:{display:"flex"},alignItems:"center",justifyContent:"flex-end",children:Object(A.jsx)(V.a,{variant:"rounded",src:S.photo})}),Object(A.jsx)(U.a,{item:!0,xs:6,style:{display:"flex",paddingLeft:"15px",paddingRight:"15px"},direction:"column",justifyContent:"center",children:Object(A.jsx)(j.a,{variant:"h6",color:"text.primary",style:w.textTransformNone,children:S.name})}),Object(A.jsxs)(U.a,{item:!0,xs:4,style:{display:"flex",paddingRight:"15px"},direction:"column",justifyContent:"center",children:[Object(A.jsxs)(j.a,{variant:"body1",color:"text.primary",style:w.textTransformNone,children:["Quantity : ",S.quantity]}),Object(A.jsxs)(j.a,{variant:"body1",color:"text.primary",style:w.textTransformNone,children:["Price : $",S.price]}),Object(A.jsxs)(j.a,{variant:"body1",color:"text.primary",style:w.textTransformNone,children:["Status : ",S.status]}),"Return Request Initiated"==S.status||"Return Accepted"==S.status||"Return Rejected"==S.status?Object(A.jsxs)(j.a,{variant:"body1",color:"text.primary",style:w.textTransformNone,children:["Return reason : ",S.returnReason]}):Object(A.jsxs)(d.a,{component:"form",noValidate:!0,sx:{mt:3},children:[Object(A.jsx)(G.a,{variant:"outlined",name:S.id,required:!0,fullWidth:!0,id:S.id,label:"Return Reason",autoFocus:!0,onChange:function(e){return function(e){console.log(e),r(e.target.value)}(e)},value:s,size:"small"}),Object(A.jsx)(z.a,{type:"submit",fullWidth:!0,value:"Return Request Initiated",variant:"contained",sx:{mt:3,mb:2},size:"small",onClick:function(t){return function(t,a){t.preventDefault(),console.log(e.order_id,a,"on click==========");var n={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};if(null!=s){console.log("In return ");var r={product:a.id,status:"Return Request Initiated",returnReason:s};H.a.patch("https://eshop-spot-backend.herokuapp.com"+"/order/status/".concat(e.order_id),r,n,{withCredentials:!0}).then((function(e){console.log(e.data," Status updates"),window.location.href="/customerview/profile/2"})).catch((function(e){console.log(e)}))}else console.log("No return "),u(!0),m("error"),f("Enter Reason for Return")}(t,S)},children:"Return Item"})]})]})]},S)}var Ut=["expand"];var qt=Object(At.a)((function(e){e.expand;var t=Object(kt.a)(e,Ut);return Object(A.jsx)($e.a,Object(p.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));function It(e){var t=n.useState(!1),a=Object(R.a)(t,2),s=a[0],r=a[1],o=n.useState(),c=Object(R.a)(o,2),l=(c[0],c[1],n.useState(!1)),d=Object(R.a)(l,2),u=(d[0],d[1],Object(n.useState)("")),h=Object(R.a)(u,2),p=(h[0],h[1],Object(n.useState)("")),b=Object(R.a)(p,2);b[0],b[1],Object(i.e)();return Object(A.jsxs)(pe.a,{children:[console.log(e.orderinfo,"--- order info"),Object(A.jsx)(Pt.a,{avatar:Object(A.jsx)(V.a,{sx:{bgcolor:"#ff3366"},"aria-label":"recipe",children:Object(A.jsx)(Ot.a,{})}),title:e.orderinfo.order_id,subheader:"OrderId"}),Object(A.jsxs)(be.a,{disableSpacing:!0,children:[Object(A.jsx)(me.a,{children:Object(A.jsxs)(j.a,{variant:"h5",color:"text.primary",children:["$",e.orderinfo.totalPrice]})}),Object(A.jsx)(qt,{expand:s,onClick:function(){r(!s)},"aria-expanded":s,"aria-label":"show more",children:Object(A.jsx)(Wt.a,{})})]}),Object(A.jsx)(Tt.a,{in:s,timeout:"auto",unmountOnExit:!0,children:Object(A.jsxs)(me.a,{children:[Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(zt.a,{orientation:"horizontal",flexItem:!0})}),Object(A.jsx)(U.a,{container:!0,direction:"column",spacing:0,children:e.orderinfo.items.map((function(t){return Object(A.jsx)(Dt,{item:t,order_id:e.orderinfo.order_id})}))})]})})]})}a(388);var Ft=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={products:[],oldCart:{},orders:[],productsAll:[],tableProd:[],loggedin:!1,errAlert:"",notify:0},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=this,t={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products"),H.a.get("https://eshop-spot-backend.herokuapp.com/product/all").then((function(t){console.log("response"+t.data),e.setState({products:t.data}),e.setState({productsAll:t.data});for(var a=0,n=0;n<e.state.orders.length;n++){var s={order_id:e.state.orders[n]._id,items:[],totalPrice:0};a=0;for(var r=0;r<e.state.orders[n].productlist.length;r++){console.log(e.state.orders[n].productlist[r].product,"sep prod from customer orders");for(var o=0;o<e.state.products.length;o++)if(e.state.products[o]._id==e.state.orders[n].productlist[r].product){var c={id:e.state.products[o]._id,name:e.state.products[o].name,photo:e.state.products[o].photo,price:e.state.products[o].price,owner:e.state.products[o].owner,status:e.state.orders[n].productlist[r].status,quantity:e.state.orders[n].productlist[r].quantity,returnReason:e.state.orders[n].productlist[r].returnReason};a+=e.state.products[o].price,s.items.push(c)}}s.totalPrice=a,e.setState({tableProd:[].concat(Object(bt.a)(e.state.tableProd),[s])})}})).catch((function(e){console.log(e)}));try{H.a.get("https://eshop-spot-backend.herokuapp.com/customers/myorders",t,{withCredentials:!0}).then((function(t){e.setState({orders:t.data})}))}catch(a){this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products",console.log("in error"),console.log(a)}}},{key:"render",value:function(){return 0==this.state.tableProd.length?Object(A.jsx)("div",{className:"App",children:"No Data Available"}):Object(A.jsx)(S.a,{theme:y,children:Object(A.jsx)(D.a,{sx:{py:6},children:Object(A.jsxs)(U.a,{container:!0,spacing:4,children:[console.log(this.state.tableProd,"-- table prod"),this.state.tableProd.map((function(e){return Object(A.jsx)(U.a,{item:!0,xs:3,style:{minWidth:"1000px"},children:Object(A.jsx)(It,{orderinfo:e})},e)}))]})})})}}]),a}(n.Component)),Bt=function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(){var e;Object(de.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state=e.props,e.handleChange=function(t,a){return e.setState({activeIndex:a})},e}return Object(ue.a)(a,[{key:"render",value:function(){console.log(this.props,"-- props",this.state,"   state");var e=this.state.activeIndex;return Object(A.jsx)(S.a,{theme:y,children:Object(A.jsxs)("div",{style:{display:"flex",paddingTop:"10px"},children:[Object(A.jsx)(et.a,{style:w.MyProfileTabsBox,children:Object(A.jsxs)(rt.a,{value:e,onChange:this.handleChange,orientation:"vertical",children:[Object(A.jsx)(ot.a,{style:w.MyProfileTab,label:"Update my details"}),Object(A.jsx)(ot.a,{style:w.MyProfileTab,label:"Update password"}),Object(A.jsx)(ot.a,{style:w.MyProfileTab,label:"My Orders"}),Object(A.jsx)(ot.a,{style:w.MyProfileTab,label:"My Addresses"})]})}),0===e&&Object(A.jsxs)(Lt,{children:[" ",Object(A.jsx)(yt,{})," "]}),1===e&&Object(A.jsxs)(Lt,{children:[" ",Object(A.jsx)(wt,{})," "]}),2===e&&Object(A.jsx)(Lt,{children:Object(A.jsx)(Ft,{})}),3===e&&Object(A.jsx)(Lt,{children:Object(A.jsx)(Ct,{})})]})})}}]),a}(s.a.PureComponent);function Lt(e){return Object(A.jsx)(j.a,{component:"div",style:w.TypographyTabContainer,children:e.children})}var Rt=Bt;var Et=W((function(){console.log(Object(i.f)(),"use param");var e=Object(i.f)().index;return console.log(e,"   activeIndex"),e||(e=0),Object(A.jsxs)(S.a,{theme:y,children:[Object(A.jsx)(N.a,{}),Object(A.jsx)(gt,{}),Object(A.jsx)(Rt,{activeIndex:parseInt(e)})]})}));function Mt(e){var t=Object(i.e)(),a=Object(n.useState)(""),s=Object(R.a)(a,2),r=s[0],o=(s[1],Object(n.useState)("")),c=Object(R.a)(o,2),l=c[0],d=(c[1],Object(n.useState)("")),u=Object(R.a)(d,2),h=u[0],b=(u[1],Object(n.useState)(!1)),m=Object(R.a)(b,2),x=m[0],O=(m[1],Object(n.useState)(e.products)),g=Object(R.a)(O,2),f=g[0],v=g[1],y=f.reduce((function(e,t){return e+t.quantity*t.price}),0);Object(n.useEffect)((function(){var t=function(){var t=Object(L.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v(e.products);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.products]),console.log(f,"begin");function S(){return S=Object(L.a)(B.a.mark((function e(t){var a,n,s,r,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(t,"place order"),a=[],n=0;n<t.length;n++)console.log("EHHEHEHE"),s={product:t[n].id,quantity:t[n].quantity},a.push(s);r={price:y,productlist:a},console.log(r,"prodlist from ct"),o="Bearer "+M.a.get("token"),console.log(o),c={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:o}},H.a.patch("https://eshop-spot-backend.herokuapp.com/cart/mine",r,c,{withCredentials:!0}).then((function(e){console.log("in cart Table"),console.log(e.data.price,"from api")})).catch((function(e){console.log(e)}));case 9:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}return Object(A.jsxs)("div",{children:[" ",x&&Object(A.jsx)(re,{errAlert:l,message:h,user:r}),Object(A.jsx)(Ce.a,{component:Ae.a,children:Object(A.jsxs)(ve.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(A.jsx)(we.a,{children:Object(A.jsxs)(ke.a,{children:[Object(A.jsx)(Se.a,{align:"right"}),Object(A.jsx)(Se.a,{align:"center",children:"Product"}),Object(A.jsx)(Se.a,{align:"center",children:"Price"}),Object(A.jsx)(Se.a,{align:"center",children:"quantity"})]})}),Object(A.jsxs)(ye.a,{children:[console.log(f,"in end"),f.map((function(e){return Object(A.jsxs)(ke.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(A.jsx)(Se.a,{align:"center",sx:{justifyContent:"center"},children:Object(A.jsx)(et.a,{children:Object(A.jsx)(V.a,{variant:"rounded",src:e.photo})})}),Object(A.jsx)(Se.a,{align:"center",children:e.name}),Object(A.jsx)(Se.a,{align:"center",children:e.price}),Object(A.jsx)(Se.a,{align:"center",children:Object(A.jsxs)(te.a,{spacing:2,direction:"row",sx:{justifyContent:"center"},children:[Object(A.jsx)(z.a,{style:w.CartButton,onClick:function(){return function(e){console.log("on remove");var t=f.find((function(t){return t.id===e.id}));1===t.quantity?v(f.filter((function(t){return t.id!==e.id}))):v(f.map((function(a){return a.id===e.id?Object(p.a)(Object(p.a)({},t),{},{quantity:t.quantity-1}):a})))}(e)},className:"remove",variant:"outlined",component:"h2",children:"-"}),Object(A.jsx)(j.a,{variant:"h6",children:e.quantity}),Object(A.jsx)(z.a,{style:w.CartButton,onClick:function(){return function(e){var t=f.find((function(t){return t.id===e.id}));if(t){if(t.quantity+1>e.backQuantity)return void alert("reached the maximum order limit");v(f.map((function(a){return a.id===e.id?Object(p.a)(Object(p.a)({},t),{},{quantity:t.quantity+1}):a})))}else v([].concat(Object(bt.a)(f),[Object(p.a)(Object(p.a)({},e),{},{quantity:1})]));console.log(e.quantity)}(e)},className:"add",variant:"outlined",children:"+"})]})})]},e._id)}))]})]})}),Object(A.jsxs)(U.a,{container:!0,direction:"row",sx:{padding:"30px"},children:[Object(A.jsx)(U.a,{item:!0,xs:8,style:{display:"flex",alignItems:"center"},children:Object(A.jsxs)(j.a,{variant:"h6",style:w.CartPrice,sx:{ml:2,pb:3},children:[" Total price : $",y," "]})}),Object(A.jsxs)(U.a,{item:!0,xs:4,alignItems:"right",justify:"flex-end",children:[Object(A.jsx)(z.a,{sx:{ml:2},onClick:function(){return function(e){return S.apply(this,arguments)}(f)},variant:"outlined",children:"Save Cart"}),Object(A.jsx)(z.a,{sx:{ml:2},onClick:function(){t.push({pathname:"/customerview/checkout",openSnackbar:!0})},variant:"contained",children:"Checkout"})]})]})]})}var _t=function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={oldCart:{},productsAll:[],tableProd:[],loggedin:!1,errAlert:""},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=Object(L.a)(B.a.mark((function e(){var t,a,n,s=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Bearer "+M.a.get("token"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:t}},M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products"),e.prev=3,e.next=6,H.a.get("https://eshop-spot-backend.herokuapp.com/customers/myCart",a,{withCredentials:!0});case 6:n=e.sent,console.log(n),this.setState({oldCart:n.data}),console.log("after hitback assignmemnt"),console.log(this.state.oldCart[0].productlist),console.log(this.state.productsAll),e.next=21;break;case 14:e.prev=14,e.t0=e.catch(3),this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products",console.log("in error"),console.log(e.t0);case 21:H.a.get("https://eshop-spot-backend.herokuapp.com/product/all",a).then((function(e){console.log("response"+e.data),s.setState({productsAll:e.data}),console.log(s.state.productsAll,"check"),console.log(s.state.oldCart[0].productlist);for(var t=0;t<s.state.productsAll.length;t++)for(var a=0;a<s.state.oldCart[0].productlist.length;a++)if(s.state.productsAll[t]._id==s.state.oldCart[0].productlist[a].product){var n={id:s.state.productsAll[t]._id,name:s.state.productsAll[t].name,photo:s.state.productsAll[t].photo,price:s.state.productsAll[t].price,quantity:s.state.oldCart[0].productlist[a].quantity,backQuantity:s.state.productsAll.quantity};s.setState({tableProd:[].concat(Object(bt.a)(s.state.tableProd),[n])})}})).catch((function(e){console.log(e)})),console.log("before for",this.state.productsAll);case 23:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(A.jsxs)(S.a,{theme:y,children:[Object(A.jsx)(N.a,{}),Object(A.jsx)(gt,{}),Object(A.jsx)(et.a,{style:w.ProductListBox,children:Object(A.jsx)(Mt,{products:this.state.tableProd})})]})}}]),a}(n.Component),Ht=W(_t),Vt=a(361),Gt=a(389),Qt=a(356),$t=Object(A.jsx)(d.a,{component:"span",sx:{display:"inline-block",mx:"2px",transform:"scale(0.8)"},children:"\u2022"});function Jt(e){var t=Object(n.useState)(e.address),a=Object(R.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(e.oldCart),c=Object(R.a)(o,2),l=c[0];c[1],Object(i.e)();return console.log(s),console.log(l,"in basiccard"),Object(n.useEffect)((function(){var t=function(){var t=Object(L.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(e.address);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(A.jsxs)(pe.a,{sx:{minWidth:300,maxWidth:400,maxHeight:300,minHeight:150},children:[Object(A.jsxs)(me.a,{children:[Object(A.jsxs)(j.a,{sx:{fontSize:14},variant:"h6",style:w.textTransformNone,gutterBottom:!0,children:[s.firstName,$t,s.lastName]}),Object(A.jsx)(j.a,{variant:"body2",children:s.street1}),Object(A.jsx)(j.a,{variant:"body2",children:s.city}),Object(A.jsx)(j.a,{variant:"body2",children:s.country}),Object(A.jsx)(j.a,{variant:"body2",children:s.zipcode})]}),Object(A.jsx)(be.a,{style:{justifyContent:"center"},children:Object(A.jsx)(z.a,{size:"small",variant:"outlined",onClick:function(){return t=s,void e.selection(t);var t},children:"Select Address"})})]})}function Zt(e){var t=Object(i.e)();return Object(A.jsx)(D.a,{sx:{pt:"20px",display:"flex",justifyContent:"center"},children:Object(A.jsx)(z.a,{size:"small",variant:"contained",onClick:function(){t.push("/customerview/profile/3")},children:"Add new Address"})})}function Kt(e){var t=this,a=Object(n.useState)(e.address),s=Object(R.a)(a,2),r=s[0],o=s[1],c=Object(n.useState)(e.oldCart),i=Object(R.a)(c,2),l=i[0],d=i[1],u=Object(n.useState)(!1),h=Object(R.a)(u,2),p=(h[0],h[1]),b=Object(n.useState)(),m=Object(R.a)(b,2),x=m[0],O=m[1];function g(t){O(t),e.setselAddress(t),e.handleNext(),console.log(e," ------ add indose")}return console.log(l,"in AddressForm"),console.log(r,"in AddressForm"),Object(n.useEffect)((function(){var a=function(){var t=Object(L.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d(e.oldCart),o(e.address);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();a(),x&&(e.setselAddress(x),e.handleNext()),null==e.address&&p(!0);var n="Bearer "+M.a.get("token");console.log(n);var s={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:n}};H.a.get("https://eshop-spot-backend.herokuapp.com/addresses/mine",s,{withCredentials:!0}).then((function(e){console.log(e.data,"addres"),o(e.data),console.log(t.state.address,"set")})).catch((function(e){console.log(e)}))}),[]),Object(A.jsxs)(n.Fragment,{children:[Object(A.jsx)(j.a,{variant:"h6",style:w.titleCheckout,gutterBottom:!0,children:"Select Shipping address"}),Object(A.jsxs)(D.a,{children:[Object(A.jsx)(U.a,{container:!0,spacing:2,sx:{alignItems:"center",justifyContent:"center"},children:r.map((function(e){return Object(A.jsx)(U.a,{item:!0,xs:3,style:w.CardGridAddress,children:Object(A.jsx)(Jt,{oldCart:l,address:e,selection:g})},e)}))}),Object(A.jsx)(Zt,{})]})]})}var Xt=a(371),Yt=a(354);function ea(e){var t=Object(n.useState)({}),a=Object(R.a)(t,2),s=a[0],r=a[1],o=function(e){e.persist(),r((function(t){return Object(p.a)(Object(p.a)({},t),{},Object(nt.a)({},e.target.name,e.target.value))}))};console.log(e,"--- payment");return Object(A.jsx)(D.a,{component:"main",maxWidth:"sm",sx:{mb:4},children:Object(A.jsx)(Ae.a,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:Object(A.jsxs)(n.Fragment,{children:[Object(A.jsx)(j.a,{variant:"h6",gutterBottom:!0,children:"Payment method"}),Object(A.jsxs)(U.a,{container:!0,spacing:3,children:[Object(A.jsx)(U.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(G.a,{id:"cardName",label:"Name on card",fullWidth:!0,autoComplete:"cc-name",variant:"standard",onChange:o,name:"cardName"})}),Object(A.jsx)(U.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(G.a,{id:"cardNumber",label:"Card number",fullWidth:!0,autoComplete:"cc-number",variant:"standard",onChange:o,name:"cardNumber"})}),Object(A.jsx)(U.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(G.a,{id:"expDate",label:"Expiry date",fullWidth:!0,autoComplete:"cc-exp",variant:"standard",onChange:o,name:"expDate"})}),Object(A.jsx)(U.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(G.a,{id:"cvv",label:"CVV",helperText:"Last three digits on signature strip",fullWidth:!0,autoComplete:"cc-csc",variant:"standard",onChange:o,name:"cvv"})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(Xt.a,{control:Object(A.jsx)(Yt.a,{color:"secondary",name:"saveCard",value:"yes"}),label:"Remember credit card details for next time"})})]}),Object(A.jsx)(d.a,{sx:{display:"flex",justifyContent:"flex-end"},children:Object(A.jsx)(z.a,{variant:"contained",sx:{mt:3,ml:1},onClick:function(){return e.setPaymentDetails(s),void e.handleNext()},children:"Make Payment"})})]})})})}function ta(e){var t=Object(n.useState)(e.address),a=Object(R.a)(t,2),s=a[0],r=(a[1],Object(n.useState)(e.oldCart)),o=Object(R.a)(r,2),c=o[0],l=(o[1],Object(n.useState)(e.paymentDetails)),d=Object(R.a)(l,2),u=d[0],h=(d[1],Object(n.useState)()),p=Object(R.a)(h,2),b=(p[0],p[1]),m=Object(i.e)();console.log(s,",,,,",c);var x=function(){var e=Object(L.a)(B.a.mark((function e(){var t,a,n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("selected address:",s),t="Bearer "+M.a.get("token"),console.log(t),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:t}},console.log(r,"newO"),e.next=7,H.a.get("https://eshop-spot-backend.herokuapp.com/cart/mine",a,{withCredentials:!0});case 7:n=e.sent,console.log(n.data,"  in basic card final try"),r={cart:n.data._id,price:n.data.price,productlist:n.data.productlist,address:s},console.log(r,"after assign"),H.a.post("https://eshop-spot-backend.herokuapp.com/order/add",r,a,{withCredentials:!0}).then((function(e){console.log(e.data,"from api");var t=e.data;console.log(t,"Order placed"),b(t),m.push("/customerview/profile/2")})).catch((function(e){console.log(e)}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.jsxs)(n.Fragment,{children:[Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsxs)(U.a,{item:!0,xs:12,sm:6,children:[Object(A.jsx)(j.a,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Shipping"}),Object(A.jsxs)(j.a,{gutterBottom:!0,children:[s.firstName,"\xa0",s.lastName]}),Object(A.jsxs)(j.a,{gutterBottom:!0,children:[s.street1,"\xa0",s.city]}),Object(A.jsxs)(j.a,{gutterBottom:!0,children:[s.state,"\xa0",s.zipcode]})]}),Object(A.jsxs)(U.a,{item:!0,container:!0,direction:"column",xs:12,sm:6,children:[Object(A.jsx)(j.a,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Payment details"}),console.log(u),Object(A.jsx)(j.a,{gutterBottom:!0,children:u.cardName}),Object(A.jsx)(j.a,{gutterBottom:!0,children:u.cardNumber})]})]}),Object(A.jsx)(et.a,{sx:{display:"flex",justifyContent:"center"},children:Object(A.jsx)(z.a,{variant:"contained",sx:{mt:3,ml:1},onClick:function(){return x()},children:"Place Order"})})]})}function aa(e){var t=n.useState(0),a=Object(R.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(e.add),c=Object(R.a)(o,2),i=c[0],l=(c[1],Object(n.useState)(e.cart)),d=Object(R.a)(l,2),u=d[0],h=(d[1],Object(n.useState)()),p=Object(R.a)(h,2),b=p[0],m=p[1],x=Object(n.useState)(),O=Object(R.a)(x,2),g=O[0],f=O[1];console.log(e,"-- -props------------------"),console.log(i,"-- -add"),console.log(u,"-- -cart");var v=["Shipping address","Payment details","Review your order"];console.log(u,"In checkout"),console.log(i,"In  checkout");var S=function(){r(s+1)};return Object(A.jsx)(T.a,{theme:y,children:Object(A.jsx)(D.a,{component:"main",maxWidth:"sm",sx:{mb:4},children:Object(A.jsxs)(Ae.a,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[Object(A.jsx)(j.a,{component:"h2",variant:"h3",align:"center",style:w.HeadingCheckout,children:"Checkout"}),Object(A.jsx)(Vt.a,{activeStep:s,sx:{pt:3,pb:5},children:v.map((function(e){return Object(A.jsx)(Gt.a,{children:Object(A.jsx)(Qt.a,{children:e})},e)}))}),Object(A.jsx)(n.Fragment,{children:s===v.length?Object(A.jsx)(n.Fragment,{children:Object(A.jsx)(j.a,{variant:"h5",gutterBottom:!0,children:"Thank you for your order."})}):Object(A.jsxs)(n.Fragment,{children:[function(t){switch(t){case 0:return Object(A.jsx)(Kt,{address:e.add,setselAddress:m,handleNext:S});case 1:return Object(A.jsx)(ea,{handleNext:S,setPaymentDetails:f});case 2:return Object(A.jsx)(ta,{address:b,paymentDetails:g});default:throw new Error("Unknown step")}}(s),console.log("selected *******Address-----, ",b)]})})]})})})}var na=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={products:[],address:[],oldCart:{},productsAll:[],updateProd:[],loggedin:!1,errAlert:"",selectedAddress:{}},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="Bearer "+M.a.get("token");console.log(t);var a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:t}};M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products"),H.a.get("https://eshop-spot-backend.herokuapp.com/product/all").then((function(t){console.log("response"+t.data),e.setState({products:t.data}),e.setState({productsAll:t.data});for(var a=0;a<e.state.productsAll.length;a++){for(var n=0;n<e.state.oldCart[0].productlist.length;n++)if(e.state.productsAll[a]._id==e.state.oldCart[0].productlist[n].product){var s={id:e.state.productsAll[a]._id,quantity:e.state.productsAll[a].quantity-e.state.oldCart[0].productlist[n].quantity};e.setState({updateProd:[].concat(Object(bt.a)(e.state.updateProd),[s])})}console.log(e.state.updateProd,"tab")}})).catch((function(e){console.log(e)}));try{H.a.get("https://eshop-spot-backend.herokuapp.com/customers/myCart",a,{withCredentials:!0}).then((function(t){e.setState({oldCart:t.data}),e.setState({notify:e.state.oldCart[0].productlist.length}),console.log(e.state.oldCart,"oldcart")}))}catch(n){this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products",console.log("in error"),console.log(n)}H.a.get("https://eshop-spot-backend.herokuapp.com/addresses/mine",a,{withCredentials:!0}).then((function(t){console.log(t.data,"addres"),e.setState({address:t.data}),console.log(e.state.address,"set")})).catch((function(t){e.setState({loggedin:!0}),e.setState({errAlert:"error"}),e.setState({message:"Something went wrong"}),console.log(t)}))}},{key:"render",value:function(){return Object(A.jsx)("div",{children:Object(A.jsx)(ea,{})})}}]),a}(n.Component)),sa=function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={productId:"",item:{},name:"",description:"",quantity:"",price:"",size:"",color:"",photo:"",loggedin:!1,errAlert:"",message:"",updateDate:{}},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;this.setState({productId:t.id}),console.log("oarams:",this.state.productId),console.log("oarams:",t.id);var a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+M.a.get("token")}};M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products"),H.a.get("https://eshop-spot-backend.herokuapp.com"+"/products/".concat(t.id),a,{withCredentials:!0}).then((function(t){e.setState({name:t.data.name,description:t.data.description,quantity:t.data.quantity,price:t.data.price,photo:t.data.photo,size:t.data.size,color:t.data.color}),e.setState({item:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=function(){var e=Object(L.a)(B.a.mark((function e(t){var a,n,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={product:t._id},n="Bearer "+M.a.get("token"),s={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:n}},H.a.patch("https://eshop-spot-backend.herokuapp.com/cart/addProduct",a,s,{withCredentials:!0}).then((function(e){console.log(e.data.productlist,"from api"),window.location.href="/customerview/cart"})).catch((function(e){console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)(T.a,{theme:y,children:[this.state.loggedin&&Object(A.jsx)(re,{errAlert:this.state.errAlert,message:this.state.message,user:this.state.firstName}),Object(A.jsx)(gt,{}),Object(A.jsx)(D.a,{component:"main",maxWidth:"xs",children:Object(A.jsxs)(d.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:["  ",Object(A.jsx)(j.a,{component:"h1",variant:"h5",children:"Product Details"}),Object(A.jsx)(Ve,{variant:"outlined",src:this.state.photo}),Object(A.jsx)(d.a,{component:"form",sx:{mt:3},children:Object(A.jsxs)(U.a,{container:!0,spacing:2,children:[Object(A.jsx)(U.a,{item:!0,xs:12,sm:12,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"name",label:"Product Name",name:"name",autoComplete:"family-name",value:this.state.name})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:12,children:Object(A.jsx)(G.a,{fullWidth:!0,id:"description",label:"Descripiton",name:"description",autoComplete:"family-name",value:this.state.description})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,name:"price",label:"price",type:"number",id:"price",autoComplete:"new-password",value:this.state.price})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{fullWidth:!0,name:"quantity",label:"quantity",type:"number",id:"quantity",autoComplete:"new-password",value:this.state.quantity})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{id:"size",label:"Size",name:"size",value:this.state.size})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:6,children:Object(A.jsx)(G.a,{id:"color",label:"Color",name:"color",value:this.state.color})}),Object(A.jsx)(U.a,{item:!0,xs:12,sm:12,children:Object(A.jsx)(z.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return t(e.state.item)},children:"Add to Cart"})})]})})]})})]})})}}]),a}(n.Component),ra=W(sa),oa=W(function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={products:[],address:[],oldCart:{},productsAll:[],updateProd:[],loggedin:!1,errAlert:"",selectedAddress:{}},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=this,t="Bearer "+M.a.get("token");console.log(t);var a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:t}};M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Invalid Authentication"),H.a.get("https://eshop-spot-backend.herokuapp.com/addresses/mine",a,{withCredentials:!0}).then((function(t){console.log(t.data,"addres"),e.setState({address:t.data}),console.log(e.state.address,"set")})).catch((function(t){e.setState({loggedin:!0}),e.setState({errAlert:"error"}),e.setState({message:"Something went wrong"}),console.log(t)}))}},{key:"render",value:function(){return Object(A.jsxs)(S.a,{theme:y,children:[Object(A.jsx)(gt,{}),Object(A.jsx)(aa,{add:this.state.address})]})}}]),a}(n.Component));var ca=function(e){return Object(A.jsx)(j.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})};function ia(e){return Object(A.jsxs)(n.Fragment,{children:[Object(A.jsx)(ca,{children:Object(A.jsxs)(j.a,{color:"secondary",variant:"h6",children:[e.title,"      "]})}),Object(A.jsx)(j.a,{component:"p",variant:"h4",children:e.data}),Object(A.jsx)(j.a,{color:"secondary",sx:{flex:1},children:"Until Today"}),Object(A.jsx)("div",{})]})}var la=a(350);function da(e){var t=n.useState(e.OrderStatus),a=Object(R.a)(t,2);a[0],a[1];console.log(e,"in orders");var s=function(){var e=Object(L.a)(B.a.mark((function e(t,a){var n,s,r,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log((t.target.value,a)),n="Bearer "+M.a.get("token"),s={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:n}},e.prev=3,r={product:a.product_id,status:t.target.value},console.log(a.order_id,"order"),e.next=8,H.a.patch("https://eshop-spot-backend.herokuapp.com"+"/order/status/".concat(a.order_id),r,s,{withCredentials:!0});case 8:o=e.sent,console.log(o),o&&(setTimeout((function(){window.location.reload(!0)}),1e3),console.log("page to reload")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("in error"),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(A.jsxs)(n.Fragment,{children:[Object(A.jsx)(ca,{children:"Recent Orders"}),Object(A.jsxs)(ve.a,{size:"small",children:[Object(A.jsx)(we.a,{children:Object(A.jsxs)(ke.a,{children:[Object(A.jsx)(Se.a,{children:"Order_Id"}),Object(A.jsx)(Se.a,{children:"Product Name"}),Object(A.jsx)(Se.a,{children:"Quantity"}),Object(A.jsx)(Se.a,{children:"Price "}),Object(A.jsx)(Se.a,{children:"Action"}),Object(A.jsx)(Se.a,{children:"Order Status "}),Object(A.jsx)(Se.a,{children:"Return Reason "})]})}),Object(A.jsx)(ye.a,{children:e.data.map((function(e){return Object(A.jsxs)(ke.a,{children:[Object(A.jsx)(Se.a,{children:e.order_id}),Object(A.jsx)(Se.a,{children:e.productName}),Object(A.jsx)(Se.a,{children:e.quantity}),Object(A.jsx)(Se.a,{children:e.price}),Object(A.jsx)(Se.a,{children:Object(A.jsxs)(la.a,{defaultValue:30,inputProps:{name:"age",id:"uncontrolled-native"},onChange:function(t){return s(t,e)},children:[Object(A.jsx)("option",{value:e.OrderStatus,children:"-"}),Object(A.jsx)("option",{value:"Order Placed",children:"Order Placed"}),Object(A.jsx)("option",{value:"Order Dispatched",children:"Order Dispatched"}),Object(A.jsx)("option",{value:"Out for Delivery",children:"Out for Delivery"}),Object(A.jsx)("option",{value:"Delivered",children:"Delivered"}),Object(A.jsx)("option",{value:"Return Accepted",children:"Return Accepted"}),Object(A.jsx)("option",{value:"Return Rejected",children:"Return Rejected"})]})}),Object(A.jsx)(Se.a,{children:e.OrderStatus}),Object(A.jsx)(Se.a,{children:e.returnReason})]},e.product_id)}))})]})]})}function ua(e){var t=e.data.tableData,a=n.useState(!1),s=Object(R.a)(a,2),r=(s[0],s[1]),o=n.useState(!0),c=Object(R.a)(o,2);c[0],c[1];return Object(n.useEffect)((function(){setTimeout(r,1e3,!0),console.log(e.data)}),[t]),Object(A.jsxs)(T.a,{theme:y,children:[console.log(e,"inside dashboard"),Object(A.jsxs)(d.a,{component:"main",children:[Object(A.jsx)(u.a,{}),Object(A.jsx)(D.a,{maxWidth:"lg",sx:{mb:4},children:Object(A.jsxs)(U.a,{container:!0,spacing:3,children:[Object(A.jsx)(U.a,{item:!0,xs:12,md:4,lg:3,children:Object(A.jsx)(Ae.a,{sx:{p:2,display:"flex",flexDirection:"column",height:240},children:Object(A.jsx)(ia,{title:"Turn over in dollars",data:e.total})})}),Object(A.jsx)(U.a,{item:!0,xs:12,md:4,lg:3,children:Object(A.jsx)(Ae.a,{sx:{p:2,display:"flex",flexDirection:"column",height:240},children:e.productsSold&&Object(A.jsx)(ia,{title:"Products Sold",data:e.productsSold})})}),Object(A.jsx)(U.a,{item:!0,xs:12,md:4,lg:3,children:Object(A.jsx)(Ae.a,{sx:{p:2,display:"flex",flexDirection:"column",height:240},children:e.popular.name&&Object(A.jsx)(ia,{title:"Popular Product",data:e.popular.name})})}),Object(A.jsx)(U.a,{item:!0,xs:12,md:4,lg:3,children:Object(A.jsx)(Ae.a,{sx:{p:2,display:"flex",flexDirection:"column",height:240},children:Object(A.jsx)(ia,{title:"Total Orders",data:e.data.length})})}),Object(A.jsx)(U.a,{item:!0,xs:12,children:Object(A.jsx)(Ae.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:Object(A.jsx)(da,{data:e.data})})})]})})]})]})}var ja=function(e){Object(je.a)(a,e);var t=Object(he.a)(a);function a(e){var n;return Object(de.a)(this,a),(n=t.call(this,e)).state={tableData:[],products:[],loggedin:!1,errAlert:"",isLoading:!0,proSold:"",totalsales:"",popularPord:""},n}return Object(ue.a)(a,[{key:"componentDidMount",value:function(){var e=Object(L.a)(B.a.mark((function e(){var t,a,n=this;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t="Bearer "+M.a.get("token"),a={headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:t}},M.a.get("token")||(this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products");try{H.a.get("https://eshop-spot-backend.herokuapp.com/vendors/dashboard",a,{withCredentials:!0}).then((function(e){console.log(e.data,"addres"),n.setState({tableData:e.data.tabData}),n.setState({proSold:e.data.ProductsSold}),n.setState({totalsales:"$"+e.data.totalSales}),n.setState({popularPord:e.data.populatProd}),n.setState({isLoading:!1})})).catch((function(e){console.log("in Dashboard error"),n.setState({loggedin:!0}),n.setState({errAlert:"error"}),n.setState({message:"Something went wrong"}),console.log(e)}))}catch(s){this.setState.loggedin=!0,this.state.errAlert="error",this.state.message="Only vendors can add products",console.log("in error"),console.log(s)}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(A.jsxs)(S.a,{theme:y,children:[Object(A.jsx)(N.a,{}),Object(A.jsx)(Ye,{}),Object(A.jsxs)(et.a,{style:w.ProductListBox,children:[console.log(this.state,"from sales--------\x3e"),Object(A.jsx)(ua,{data:this.state.tableData,total:this.state.totalsales,popular:this.state.popularPord,productsSold:this.state.proSold})]})]})}}]),a}(n.Component),ha=W(ja);var pa=function(){return Object(A.jsxs)(c.a,{children:[Object(A.jsx)(i.a,{exact:!0,path:"/",component:I}),Object(A.jsx)(i.a,{path:"/vendorview/login",component:oe}),Object(A.jsx)(i.a,{path:"/vendorview/signup",component:le}),Object(A.jsx)(i.a,{path:"/vendorview/home",component:at}),Object(A.jsx)(i.a,{path:"/vendorview/profile",component:jt}),Object(A.jsx)(i.a,{path:"/customerview/login",component:pt}),Object(A.jsx)(i.a,{path:"/customerview/signup",component:ht}),Object(A.jsx)(i.a,{path:"/customerview/home",component:ft}),Object(A.jsx)(i.a,{path:"/customerview/update",component:yt}),Object(A.jsx)(i.a,{path:"/vendorview/update",component:st}),Object(A.jsx)(i.a,{path:"/productsview/update/:id",component:Ge}),Object(A.jsx)(i.a,{path:"/productsview/:id",component:ra}),Object(A.jsx)(i.a,{path:"/customerview/profile/:index?",component:Et}),Object(A.jsx)(i.a,{path:"/customerview/cart",component:Ht}),Object(A.jsx)(i.a,{path:"/addressview/add",component:vt}),Object(A.jsx)(i.a,{path:"/customerview/checkout",component:oa}),Object(A.jsx)(i.a,{path:"/customerview/payment",component:na}),Object(A.jsx)(i.a,{path:"/customerview/orders",component:Ft}),Object(A.jsx)(i.a,{path:"/vendorview/sales",component:ha})]})},ba=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,391)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),r(e),o(e)}))};o.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)(pa,{})}),document.getElementById("root")),ba()}},[[268,1,2]]]);
//# sourceMappingURL=main.55bdebea.chunk.js.map